# BandPro éŸ¿æ‡‰å¼ä½ˆå±€è¨­è¨ˆ

è·¨è£ç½®ä¸€è‡´é«”é©—çš„å®Œæ•´ä½ˆå±€é©é…æ–¹æ¡ˆ

## ğŸ“ éŸ¿æ‡‰å¼è¨­è¨ˆç­–ç•¥

### è¨­è¨ˆå“²å­¸ï¼šMobile First
```mermaid
flowchart LR
    subgraph MobileFirst[Mobile First è¨­è¨ˆæµç¨‹]
        Mobile[æ‰‹æ©Ÿç‰ˆè¨­è¨ˆ<br/>320pxèµ·å§‹]
        Tablet[å¹³æ¿é©é…<br/>768pxæ“´å±•]
        Desktop[æ¡Œé¢å„ªåŒ–<br/>1024pxå¢å¼·]
        Large[å¤§è¢å¹•<br/>1440pxå®Œå–„]
    end
    
    subgraph ProgressiveEnhancement[æ¼¸é€²å¼å¢å¼·]
        CoreFeatures[æ ¸å¿ƒåŠŸèƒ½<br/>æ‰€æœ‰è£ç½®å¯ç”¨]
        EnhancedUX[å¢å¼·é«”é©—<br/>è¼ƒå¤§è¢å¹•]
        AdvancedFeatures[é€²éšåŠŸèƒ½<br/>æ¡Œé¢å°ˆç”¨]
    end
    
    subgraph TouchFirst[è§¸æ§å„ªå…ˆ]
        TouchTargets[44pxæœ€å°è§¸æ§]
        GestureSupport[æ‰‹å‹¢æ“ä½œ]
        KeyboardBackup[éµç›¤æ›¿ä»£æ–¹æ¡ˆ]
    end
    
    Mobile --> Tablet
    Tablet --> Desktop  
    Desktop --> Large
    
    CoreFeatures --> EnhancedUX
    EnhancedUX --> AdvancedFeatures
    
    TouchTargets --> GestureSupport
    GestureSupport --> KeyboardBackup
```

---

## ğŸ“± æ–·é»ç³»çµ±è¨­è¨ˆ

### ä¸»è¦æ–·é»å®šç¾©
```typescript
// types/breakpoints.ts
export const breakpoints = {
  xs: '320px',    // å°å‹æ‰‹æ©Ÿ
  sm: '640px',    // å¤§å‹æ‰‹æ©Ÿ
  md: '768px',    // å¹³æ¿ç›´å‘
  lg: '1024px',   // å¹³æ¿æ©«å‘/å°ç­†é›»
  xl: '1280px',   // æ¡Œé¢
  '2xl': '1536px' // å¤§æ¡Œé¢
} as const

export type BreakpointKey = keyof typeof breakpoints

// è£ç½®é¡å‹åˆ†é¡
export const deviceTypes = {
  mobile: { min: 0, max: 767 },
  tablet: { min: 768, max: 1023 },
  desktop: { min: 1024, max: Infinity }
} as const
```

### Tailwind CSS æ–·é»é…ç½®
```javascript
// tailwind.config.js
module.exports = {
  theme: {
    screens: {
      'xs': '320px',
      'sm': '640px',
      'md': '768px',
      'lg': '1024px',
      'xl': '1280px',
      '2xl': '1536px',
      // è‡ªè¨‚æ–·é»
      'tablet-portrait': '768px',
      'tablet-landscape': '1024px',
      'desktop-small': '1280px',
      'desktop-large': '1440px',
    },
    extend: {
      // å®¹å™¨æŸ¥è©¢æ”¯æ´
      containers: {
        'xs': '320px',
        'sm': '640px',
        'md': '768px',
        'lg': '1024px',
        'xl': '1280px',
        '2xl': '1536px',
      }
    }
  }
}
```

---

## ğŸ–¥ï¸ æ¡Œé¢ç‰ˆä½ˆå±€ (1024px+)

### å®Œæ•´åŠŸèƒ½ä½ˆå±€
```mermaid
flowchart TD
    subgraph DesktopLayout[æ¡Œé¢ç‰ˆä½ˆå±€ 1024px+]
        subgraph Header[é é¦–å€åŸŸ h-16]
            Logo[å“ç‰ŒLogo]
            MainNav[ä¸»å°èˆªé¸å–®]
            UserActions[ç”¨æˆ¶æ“ä½œ<br/>é€šçŸ¥/è¨­å®š/é ­åƒ]
            ThemeToggle[ä¸»é¡Œåˆ‡æ›]
        end
        
        subgraph MainContent[ä¸»å…§å®¹å€åŸŸ flex-1]
            subgraph Sidebar[å·¦å´é‚Šæ¬„ w-64]
                FileTree[æª”æ¡ˆæ¨¹ç‹€çµæ§‹]
                RecentFiles[æœ€è¿‘æª”æ¡ˆ]
                Templates[ç¯„æœ¬åº«]
            end
            
            subgraph Editor[ç·¨è¼¯å€åŸŸ flex-1]
                Toolbar[å·¥å…·æ¬„ h-12]
                StaffArea[äº”ç·šè­œç·¨è¼¯å€<br/>ä¸»è¦å·¥ä½œå€åŸŸ]
                StatusBar[ç‹€æ…‹æ¬„ h-8]
            end
            
            subgraph RightPanel[å³å´é¢æ¿ w-80å¯æ”¶åˆ]
                PropertyPanel[å±¬æ€§é¢æ¿]
                InstrumentPanel[æ¨‚å™¨é¢æ¿]
                CollabPanel[å”ä½œé¢æ¿]
            end
        end
        
        subgraph Footer[é å°¾å€åŸŸ h-12]
            PlaybackControls[æ’­æ”¾æ§åˆ¶]
            ZoomControls[ç¸®æ”¾æ§åˆ¶]
            SystemStatus[ç³»çµ±ç‹€æ…‹]
        end
    end
    
    Logo --> FileTree
    MainNav --> Toolbar
    UserActions --> StaffArea
    ThemeToggle --> PropertyPanel
    
    FileTree --> PlaybackControls
    Toolbar --> PlaybackControls
    StaffArea --> ZoomControls
    PropertyPanel --> SystemStatus
```

#### æ¡Œé¢ç‰ˆ CSS ä½ˆå±€
```css
/* æ¡Œé¢ç‰ˆä¸»ä½ˆå±€ */
.desktop-layout {
  @apply min-h-screen flex flex-col;
  @apply bg-gray-50 dark:bg-gray-900;
}

/* é é¦– */
.header {
  @apply h-16 bg-white dark:bg-gray-800;
  @apply border-b border-gray-200 dark:border-gray-700;
  @apply flex items-center justify-between px-6;
  @apply sticky top-0 z-50;
}

/* ä¸»å…§å®¹å€ */
.main-content {
  @apply flex-1 flex overflow-hidden;
}

/* å·¦å´é‚Šæ¬„ */
.sidebar-left {
  @apply w-64 bg-gray-50 dark:bg-gray-800;
  @apply border-r border-gray-200 dark:border-gray-700;
  @apply flex flex-col overflow-y-auto;
}

/* ç·¨è¼¯å™¨å€åŸŸ */
.editor-area {
  @apply flex-1 flex flex-col min-w-0;
}

.editor-toolbar {
  @apply h-12 bg-white dark:bg-gray-800;
  @apply border-b border-gray-200 dark:border-gray-700;
  @apply flex items-center px-4 gap-2;
}

.staff-container {
  @apply flex-1 bg-white dark:bg-gray-900;
  @apply overflow-auto;
  @apply relative;
}

/* å³å´é¢æ¿ */
.sidebar-right {
  @apply w-80 bg-gray-50 dark:bg-gray-800;
  @apply border-l border-gray-200 dark:border-gray-700;
  @apply flex flex-col overflow-y-auto;
  @apply transition-all duration-300 ease-in-out;
  
  &.collapsed {
    @apply w-0 overflow-hidden;
  }
}

/* é å°¾ */
.footer {
  @apply h-12 bg-white dark:bg-gray-800;
  @apply border-t border-gray-200 dark:border-gray-700;
  @apply flex items-center justify-between px-6;
}
```

---

## ğŸ“± å¹³æ¿ç‰ˆä½ˆå±€ (768-1023px)

### å¯æ”¶åˆå´é‚Šæ¬„è¨­è¨ˆ
```mermaid
flowchart TD
    subgraph TabletLayout[å¹³æ¿ç‰ˆä½ˆå±€ 768-1023px]
        subgraph TabletHeader[é é¦–å€åŸŸ h-14]
            HamburgerMenu[æ¼¢å ¡é¸å–®<br/>é–‹é—œå´é‚Šæ¬„]
            TabletLogo[å“ç‰ŒLogoç¸®å°ç‰ˆ]
            TabletActions[æ“ä½œæŒ‰éˆ•<br/>ç°¡åŒ–ç‰ˆ]
        end
        
        subgraph TabletMain[ä¸»å…§å®¹å€åŸŸ]
            subgraph CollapsibleSidebar[å¯æ”¶åˆå´é‚Šæ¬„]
                OverlaySidebar[è¦†è“‹å¼å´é‚Šæ¬„<br/>é»æ“Šå¤–éƒ¨é—œé–‰]
                TabSwitcher[é ç±¤åˆ‡æ›<br/>æª”æ¡ˆ/å±¬æ€§/å”ä½œ]
            end
            
            subgraph TabletEditor[ç·¨è¼¯å€åŸŸ flex-1]
                CompactToolbar[ç·Šæ¹Šå·¥å…·æ¬„]
                TouchOptimizedStaff[è§¸æ§å„ªåŒ–è­œé¢<br/>æ”¾å¤§ç¸®æ”¾æ‰‹å‹¢]
            end
        end
        
        subgraph TabletFooter[é å°¾ h-16]
            TabletPlayback[æ’­æ”¾æ§åˆ¶<br/>è§¸æ§å‹å–„]
            QuickActions[å¿«é€Ÿæ“ä½œ<br/>å¸¸ç”¨åŠŸèƒ½]
        end
    end
    
    HamburgerMenu --> OverlaySidebar
    TabletLogo --> TabSwitcher
    TabletActions --> CompactToolbar
    OverlaySidebar --> TouchOptimizedStaff
    CompactToolbar --> TabletPlayback
    TouchOptimizedStaff --> QuickActions
```

#### å¹³æ¿ç‰ˆéŸ¿æ‡‰å¼æ¨£å¼
```css
/* å¹³æ¿ç‰ˆä½ˆå±€ 768px - 1023px */
@media (min-width: 768px) and (max-width: 1023px) {
  .app-container {
    @apply relative;
  }
  
  .header {
    @apply h-14 px-4;
  }
  
  .hamburger-menu {
    @apply block lg:hidden;
    @apply p-2 rounded-md;
    @apply text-gray-500 hover:text-gray-900;
    @apply dark:text-gray-400 dark:hover:text-gray-100;
  }
  
  .sidebar-left {
    @apply fixed inset-y-0 left-0 z-50;
    @apply transform -translate-x-full transition-transform duration-300;
    @apply w-64 lg:w-80;
    
    &.open {
      @apply translate-x-0;
    }
  }
  
  .sidebar-overlay {
    @apply fixed inset-0 bg-black bg-opacity-50 z-40;
    @apply lg:hidden;
  }
  
  .main-content {
    @apply lg:ml-64;
  }
  
  .editor-toolbar {
    @apply h-10 px-2;
    @apply flex-wrap gap-1;
  }
  
  .toolbar-item {
    @apply min-w-0 flex-shrink-0;
    @apply h-8 px-2 text-sm;
  }
  
  .staff-container {
    @apply touch-pan-x touch-pan-y;
    /* æ”¯æ´ç¸®æ”¾æ‰‹å‹¢ */
    touch-action: pan-x pan-y pinch-zoom;
  }
  
  .footer {
    @apply h-16 px-4;
    @apply flex-wrap gap-2;
  }
}
```

---

## ğŸ“± æ‰‹æ©Ÿç‰ˆä½ˆå±€ (320-767px)

### å–®æ¬„ä½ˆå±€èˆ‡åº•éƒ¨å°èˆª
```mermaid
flowchart TD
    subgraph MobileLayout[æ‰‹æ©Ÿç‰ˆä½ˆå±€ 320-767px]
        subgraph MobileHeader[é é¦– h-12]
            BackButton[è¿”å›æŒ‰éˆ•]
            PageTitle[é é¢æ¨™é¡Œ]
            ActionButton[ä¸»è¦æ“ä½œ]
        end
        
        subgraph MobileContent[å…§å®¹å€åŸŸ flex-1]
            subgraph FullScreenEditor[å…¨è¢å¹•ç·¨è¼¯å™¨]
                MinimalToolbar[ç²¾ç°¡å·¥å…·æ¬„<br/>å¯éš±è—]
                MobileStaff[æ‰‹æ©Ÿå„ªåŒ–è­œé¢<br/>å‚ç›´æ»¾å‹•]
                FloatingControls[æµ®å‹•æ§åˆ¶<br/>éŸ³ç¬¦è¼¸å…¥]
            end
        end
        
        subgraph BottomNavigation[åº•éƒ¨å°èˆª h-16]
            NavHome[é¦–é <br/>æª”æ¡ˆç®¡ç†]
            NavEditor[ç·¨è¼¯å™¨<br/>æ¨‚è­œç·¨è¼¯]
            NavLibrary[æ¨‚åº«<br/>ç¯„æœ¬ç´ æ]
            NavProfile[å€‹äºº<br/>è¨­å®šå¸³æˆ¶]
            NavMore[æ›´å¤š<br/>å…¶ä»–åŠŸèƒ½]
        end
    end
    
    BackButton --> MinimalToolbar
    PageTitle --> MobileStaff
    ActionButton --> FloatingControls
    MinimalToolbar --> NavHome
    MobileStaff --> NavEditor
    FloatingControls --> NavLibrary
    NavLibrary --> NavProfile
    NavProfile --> NavMore
```

#### æ‰‹æ©Ÿç‰ˆæ¨£å¼å¯¦ç¾
```css
/* æ‰‹æ©Ÿç‰ˆä½ˆå±€ 320px - 767px */
@media (max-width: 767px) {
  .app-container {
    @apply pb-16; /* ç‚ºåº•éƒ¨å°èˆªé ç•™ç©ºé–“ */
  }
  
  .header {
    @apply h-12 px-4;
    @apply justify-between;
  }
  
  .header-title {
    @apply text-lg font-semibold truncate;
  }
  
  .main-content {
    @apply flex-col;
  }
  
  /* éš±è—æ¡Œé¢å´é‚Šæ¬„ */
  .sidebar-left,
  .sidebar-right {
    @apply hidden;
  }
  
  .editor-area {
    @apply h-full;
  }
  
  .editor-toolbar {
    @apply h-10 px-2;
    @apply overflow-x-auto scrollbar-none;
    @apply flex gap-1;
    
    /* å·¥å…·æ¬„å¯æ”¶åˆ */
    &.collapsed {
      @apply h-0 overflow-hidden;
    }
  }
  
  .toolbar-toggle {
    @apply fixed top-16 right-4 z-10;
    @apply w-10 h-10 rounded-full;
    @apply bg-blue-500 text-white;
    @apply shadow-lg;
  }
  
  .staff-container {
    @apply px-2 py-4;
    /* ç§»å‹•ç«¯å„ªåŒ–æ»¾å‹• */
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
  }
  
  /* åº•éƒ¨å°èˆª */
  .bottom-navigation {
    @apply fixed bottom-0 left-0 right-0;
    @apply h-16 bg-white dark:bg-gray-800;
    @apply border-t border-gray-200 dark:border-gray-700;
    @apply flex items-center justify-around;
    @apply z-50;
  }
  
  .bottom-nav-item {
    @apply flex flex-col items-center justify-center;
    @apply min-w-0 flex-1 py-2;
    @apply text-xs font-medium;
    @apply text-gray-500 dark:text-gray-400;
    @apply transition-colors duration-200;
    
    &.active {
      @apply text-blue-500 dark:text-blue-400;
    }
  }
  
  .bottom-nav-icon {
    @apply w-6 h-6 mb-1;
  }
  
  /* æµ®å‹•æ“ä½œæŒ‰éˆ• */
  .floating-action-button {
    @apply fixed bottom-20 right-4;
    @apply w-14 h-14 rounded-full;
    @apply bg-blue-500 text-white;
    @apply shadow-lg;
    @apply flex items-center justify-center;
    @apply z-40;
  }
}

/* è¶…å°è¢å¹•å„ªåŒ– 320px - 479px */
@media (max-width: 479px) {
  .header {
    @apply h-10 px-2;
  }
  
  .header-title {
    @apply text-base;
  }
  
  .editor-toolbar {
    @apply h-8 px-1;
  }
  
  .toolbar-item {
    @apply h-6 px-1 text-xs;
    @apply min-w-8;
  }
  
  .bottom-navigation {
    @apply h-14;
  }
  
  .bottom-nav-item {
    @apply text-xs;
  }
  
  .bottom-nav-icon {
    @apply w-5 h-5;
  }
  
  .floating-action-button {
    @apply w-12 h-12 bottom-16 right-2;
  }
}
```

---

## ğŸ¼ éŸ³æ¨‚å°ˆç”¨éŸ¿æ‡‰å¼è¨­è¨ˆ

### äº”ç·šè­œéŸ¿æ‡‰å¼é©é…
```mermaid
flowchart TD
    subgraph StaffResponsive[äº”ç·šè­œéŸ¿æ‡‰å¼è¨­è¨ˆ]
        subgraph DesktopStaff[æ¡Œé¢ç‰ˆ 1024px+]
            MultiSystem[å¤šè¡Œç³»çµ±<br/>å®Œæ•´é é¢ä½ˆå±€]
            FullPalette[å®Œæ•´èª¿è‰²ç›¤<br/>æ‰€æœ‰å·¥å…·å¯è¦‹]
            KeyboardShortcuts[éµç›¤å¿«æ·éµ<br/>å°ˆæ¥­å·¥ä½œæµç¨‹]
        end
        
        subgraph TabletStaff[å¹³æ¿ç‰ˆ 768-1023px]
            AdaptiveSystem[è‡ªé©æ‡‰ç³»çµ±<br/>2-3è¡Œé¡¯ç¤º]
            TouchOptimized[è§¸æ§æœ€ä½³åŒ–<br/>44pxæœ€å°è§¸æ§å€]
            GestureControls[æ‰‹å‹¢æ§åˆ¶<br/>ç¸®æ”¾å¹³ç§»]
        end
        
        subgraph MobileStaff[æ‰‹æ©Ÿç‰ˆ 320-767px]
            SingleSystem[å–®è¡Œç³»çµ±<br/>å‚ç›´æ»¾å‹•]
            SimplifiedPalette[ç°¡åŒ–èª¿è‰²ç›¤<br/>åŸºæœ¬å·¥å…·]
            ContextMenus[é•·æŒ‰é¸å–®<br/>æƒ…å¢ƒæ“ä½œ]
        end
    end
    
    MultiSystem --> AdaptiveSystem
    FullPalette --> TouchOptimized
    KeyboardShortcuts --> GestureControls
    
    AdaptiveSystem --> SingleSystem
    TouchOptimized --> SimplifiedPalette
    GestureControls --> ContextMenus
```

#### äº”ç·šè­œéŸ¿æ‡‰å¼æ¨£å¼
```css
/* äº”ç·šè­œéŸ¿æ‡‰å¼å®¹å™¨ */
.staff-responsive-container {
  @apply w-full h-full overflow-auto;
  @apply bg-white dark:bg-gray-900;
}

/* æ¡Œé¢ç‰ˆäº”ç·šè­œ */
@media (min-width: 1024px) {
  .staff-system {
    @apply grid grid-cols-1 gap-8;
    @apply p-8;
    min-height: 297mm; /* A4 é é¢é«˜åº¦ */
    max-width: 210mm;  /* A4 é é¢å¯¬åº¦ */
    @apply mx-auto;
  }
  
  .staff-line {
    stroke-width: 1;
    @apply stroke-gray-800 dark:stroke-gray-200;
  }
  
  .note-head {
    @apply cursor-pointer;
    r: 3; /* æ¨™æº–éŸ³ç¬¦å¤§å° */
  }
}

/* å¹³æ¿ç‰ˆäº”ç·šè­œ */
@media (min-width: 768px) and (max-width: 1023px) {
  .staff-system {
    @apply grid grid-cols-1 gap-6;
    @apply p-4;
  }
  
  .staff-line {
    stroke-width: 1.5;
  }
  
  .note-head {
    r: 4; /* ç¨å¤§çš„éŸ³ç¬¦ä¾¿æ–¼è§¸æ§ */
    @apply cursor-pointer;
    
    /* è§¸æ§å€åŸŸæ“´å¤§ */
    &::before {
      content: '';
      @apply absolute inset-0;
      transform: scale(1.5);
    }
  }
  
  /* æ”¯æ´ç¸®æ”¾æ‰‹å‹¢ */
  .staff-container {
    touch-action: pan-x pan-y pinch-zoom;
  }
}

/* æ‰‹æ©Ÿç‰ˆäº”ç·šè­œ */
@media (max-width: 767px) {
  .staff-system {
    @apply flex flex-col gap-4;
    @apply p-2;
    @apply min-h-screen;
  }
  
  .staff-measure {
    @apply mb-6; /* å¢åŠ å°ç¯€é–“è· */
    min-width: 100vw;
  }
  
  .staff-line {
    stroke-width: 2;
  }
  
  .note-head {
    r: 5; /* æœ€å¤§éŸ³ç¬¦ä¾¿æ–¼æ‰‹æŒ‡æ“ä½œ */
    @apply cursor-pointer;
  }
  
  /* å‚ç›´æ»¾å‹•å„ªåŒ– */
  .staff-scroll-container {
    @apply overflow-y-auto overflow-x-hidden;
    scroll-snap-type: y mandatory;
  }
  
  .staff-page {
    scroll-snap-align: start;
    @apply min-h-screen;
  }
}
```

---

## ğŸ¯ è§¸æ§å„ªåŒ–è¨­è¨ˆ

### è§¸æ§ç›®æ¨™å°ºå¯¸æŒ‡å—
```css
/* è§¸æ§ç›®æ¨™æœ€å°å°ºå¯¸æ¨™æº– */
.touch-target {
  @apply min-w-11 min-h-11; /* 44px æœ€å°è§¸æ§å€åŸŸ */
  @apply flex items-center justify-center;
}

.touch-target-small {
  @apply min-w-10 min-h-10; /* 40px æ¬¡è¦è§¸æ§å€åŸŸ */
}

.touch-target-large {
  @apply min-w-12 min-h-12; /* 48px ä¸»è¦è§¸æ§å€åŸŸ */
}

/* è§¸æ§é–“è· */
.touch-spacing {
  @apply gap-2; /* 8px æœ€å°é–“è· */
}

.touch-spacing-comfortable {
  @apply gap-4; /* 16px èˆ’é©é–“è· */
}
```

### æ‰‹å‹¢æ“ä½œå¯¦ç¾
```typescript
// composables/useGestures.ts
import { ref, onMounted, onUnmounted } from 'vue'

export const useGestures = (element: Ref<HTMLElement>) => {
  const isZooming = ref(false)
  const isPanning = ref(false)
  const scale = ref(1)
  const panX = ref(0)
  const panY = ref(0)
  
  let startDistance = 0
  let startScale = 1
  let startPanX = 0
  let startPanY = 0
  
  const handleTouchStart = (e: TouchEvent) => {
    if (e.touches.length === 2) {
      // é›™æŒ‡ç¸®æ”¾é–‹å§‹
      isZooming.value = true
      startDistance = getDistance(e.touches[0], e.touches[1])
      startScale = scale.value
    } else if (e.touches.length === 1) {
      // å–®æŒ‡å¹³ç§»é–‹å§‹
      isPanning.value = true
      startPanX = panX.value
      startPanY = panY.value
    }
  }
  
  const handleTouchMove = (e: TouchEvent) => {
    e.preventDefault()
    
    if (e.touches.length === 2 && isZooming.value) {
      // é›™æŒ‡ç¸®æ”¾
      const currentDistance = getDistance(e.touches[0], e.touches[1])
      const scaleChange = currentDistance / startDistance
      scale.value = Math.max(0.5, Math.min(3, startScale * scaleChange))
    } else if (e.touches.length === 1 && isPanning.value) {
      // å–®æŒ‡å¹³ç§»
      const deltaX = e.touches[0].clientX - e.touches[0].clientX
      const deltaY = e.touches[0].clientY - e.touches[0].clientY
      panX.value = startPanX + deltaX
      panY.value = startPanY + deltaY
    }
  }
  
  const handleTouchEnd = () => {
    isZooming.value = false
    isPanning.value = false
  }
  
  const getDistance = (touch1: Touch, touch2: Touch) => {
    const dx = touch1.clientX - touch2.clientX
    const dy = touch1.clientY - touch2.clientY
    return Math.sqrt(dx * dx + dy * dy)
  }
  
  onMounted(() => {
    const el = element.value
    if (el) {
      el.addEventListener('touchstart', handleTouchStart, { passive: false })
      el.addEventListener('touchmove', handleTouchMove, { passive: false })
      el.addEventListener('touchend', handleTouchEnd)
    }
  })
  
  onUnmounted(() => {
    const el = element.value
    if (el) {
      el.removeEventListener('touchstart', handleTouchStart)
      el.removeEventListener('touchmove', handleTouchMove)
      el.removeEventListener('touchend', handleTouchEnd)
    }
  })
  
  return {
    scale,
    panX,
    panY,
    isZooming,
    isPanning
  }
}
```

---

## ğŸ§­ å°èˆªæ¨¡å¼é©é…

### æ¡Œé¢ç‰ˆå°èˆª
```vue
<!-- æ¡Œé¢ç‰ˆæ°´å¹³å°èˆª -->
<nav class="desktop-navigation">
  <div class="nav-brand">
    <img src="/logo.svg" alt="BandPro" class="logo" />
  </div>
  
  <ul class="nav-menu">
    <li class="nav-item">
      <router-link to="/" class="nav-link">é¦–é </router-link>
    </li>
    <li class="nav-item">
      <router-link to="/editor" class="nav-link">ç·¨è¼¯å™¨</router-link>
    </li>
    <li class="nav-item">
      <router-link to="/library" class="nav-link">æ¨‚åº«</router-link>
    </li>
    <li class="nav-item">
      <router-link to="/collaboration" class="nav-link">å”ä½œ</router-link>
    </li>
  </ul>
  
  <div class="nav-actions">
    <button class="notification-btn">
      <BellIcon class="w-5 h-5" />
    </button>
    <UserMenu />
    <ThemeToggle />
  </div>
</nav>
```

### å¹³æ¿ç‰ˆå¯æ”¶åˆå°èˆª
```vue
<!-- å¹³æ¿ç‰ˆå´é‚ŠæŠ½å±œå°èˆª -->
<template>
  <div class="tablet-navigation">
    <!-- æ¼¢å ¡é¸å–®æŒ‰éˆ• -->
    <button 
      @click="toggleSidebar"
      class="hamburger-btn"
      :class="{ 'active': sidebarOpen }"
    >
      <span></span>
      <span></span>
      <span></span>
    </button>
    
    <!-- é®ç½©å±¤ -->
    <div 
      v-if="sidebarOpen"
      @click="closeSidebar"
      class="sidebar-overlay"
    ></div>
    
    <!-- å´é‚Šæ¬„ -->
    <aside 
      class="sidebar"
      :class="{ 'open': sidebarOpen }"
    >
      <nav class="sidebar-nav">
        <router-link
          v-for="item in navItems"
          :key="item.path"
          :to="item.path"
          class="sidebar-nav-item"
          @click="closeSidebar"
        >
          <component :is="item.icon" class="w-6 h-6" />
          <span>{{ item.label }}</span>
        </router-link>
      </nav>
    </aside>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue'
import { HomeIcon, PencilIcon, BookOpenIcon, UsersIcon } from '@heroicons/vue/24/outline'

const sidebarOpen = ref(false)

const navItems = [
  { path: '/', icon: HomeIcon, label: 'é¦–é ' },
  { path: '/editor', icon: PencilIcon, label: 'ç·¨è¼¯å™¨' },
  { path: '/library', icon: BookOpenIcon, label: 'æ¨‚åº«' },
  { path: '/collaboration', icon: UsersIcon, label: 'å”ä½œ' }
]

const toggleSidebar = () => {
  sidebarOpen.value = !sidebarOpen.value
}

const closeSidebar = () => {
  sidebarOpen.value = false
}
</script>
```

### æ‰‹æ©Ÿç‰ˆåº•éƒ¨å°èˆª
```vue
<!-- æ‰‹æ©Ÿç‰ˆåº•éƒ¨æ¨™ç±¤å°èˆª -->
<nav class="mobile-bottom-navigation">
  <router-link
    v-for="item in bottomNavItems"
    :key="item.path"
    :to="item.path"
    class="bottom-nav-item"
    v-slot="{ isActive }"
  >
    <component 
      :is="item.icon" 
      class="bottom-nav-icon"
      :class="{ 'text-blue-500': isActive }"
    />
    <span 
      class="bottom-nav-label"
      :class="{ 'text-blue-500 font-semibold': isActive }"
    >
      {{ item.label }}
    </span>
  </router-link>
</nav>

<script setup lang="ts">
import { 
  HomeIcon, 
  PencilSquareIcon, 
  BookOpenIcon, 
  UserIcon,
  EllipsisHorizontalIcon 
} from '@heroicons/vue/24/outline'

const bottomNavItems = [
  { path: '/', icon: HomeIcon, label: 'é¦–é ' },
  { path: '/editor', icon: PencilSquareIcon, label: 'ç·¨è¼¯' },
  { path: '/library', icon: BookOpenIcon, label: 'æ¨‚åº«' },
  { path: '/profile', icon: UserIcon, label: 'å€‹äºº' },
  { path: '/more', icon: EllipsisHorizontalIcon, label: 'æ›´å¤š' }
]
</script>

<style scoped>
.mobile-bottom-navigation {
  @apply fixed bottom-0 left-0 right-0;
  @apply h-16 bg-white dark:bg-gray-800;
  @apply border-t border-gray-200 dark:border-gray-700;
  @apply flex items-center justify-around;
  @apply z-50;
  @apply safe-area-inset-bottom; /* iOS å®‰å…¨å€åŸŸ */
}

.bottom-nav-item {
  @apply flex flex-col items-center justify-center;
  @apply min-w-0 flex-1 py-2;
  @apply transition-colors duration-200;
}

.bottom-nav-icon {
  @apply w-6 h-6 mb-1;
  @apply text-gray-500 dark:text-gray-400;
}

.bottom-nav-label {
  @apply text-xs font-medium;
  @apply text-gray-500 dark:text-gray-400;
  @apply truncate;
}
</style>
```

---

## ğŸ“Š æ•ˆèƒ½å„ªåŒ–ç­–ç•¥

### éŸ¿æ‡‰å¼åœ–ç‰‡
```vue
<template>
  <!-- éŸ¿æ‡‰å¼åœ–ç‰‡çµ„ä»¶ -->
  <picture class="responsive-image">
    <!-- æ¡Œé¢ç‰ˆé«˜è§£æåº¦ -->
    <source
      media="(min-width: 1024px)"
      :srcset="`${desktopImage} 1x, ${desktopImage2x} 2x`"
    />
    
    <!-- å¹³æ¿ç‰ˆä¸­ç­‰è§£æåº¦ -->
    <source
      media="(min-width: 768px)"
      :srcset="`${tabletImage} 1x, ${tabletImage2x} 2x`"
    />
    
    <!-- æ‰‹æ©Ÿç‰ˆå„ªåŒ–ç‰ˆæœ¬ -->
    <img
      :src="mobileImage"
      :srcset="`${mobileImage} 1x, ${mobileImage2x} 2x`"
      :alt="alt"
      class="w-full h-auto"
    />
  </picture>
</template>
```

### æ‡¶åŠ è¼‰èˆ‡è™›æ“¬æ»¾å‹•
```typescript
// composables/useVirtualScroll.ts
export const useVirtualScroll = (
  items: Ref<any[]>,
  itemHeight: number,
  containerHeight: number
) => {
  const scrollTop = ref(0)
  const startIndex = computed(() => 
    Math.floor(scrollTop.value / itemHeight)
  )
  const endIndex = computed(() => 
    Math.min(
      startIndex.value + Math.ceil(containerHeight / itemHeight) + 1,
      items.value.length
    )
  )
  const visibleItems = computed(() => 
    items.value.slice(startIndex.value, endIndex.value)
  )
  
  return {
    scrollTop,
    startIndex,
    endIndex,
    visibleItems
  }
}
```

---

## âœ… éŸ¿æ‡‰å¼æª¢æŸ¥æ¸…å–®

### è¨­è¨ˆéšæ®µ
- [ ] å®šç¾©å®Œæ•´æ–·é»ç³»çµ±
- [ ] è¨­è¨ˆå„è£ç½®ä½ˆå±€è®Šé«”
- [ ] è¦åŠƒè§¸æ§äº’å‹•æ¨¡å¼
- [ ] è€ƒæ…®æ©«è±å±åˆ‡æ›
- [ ] è¨­è¨ˆæ‘ºç–Šè¢å¹•é©é…

### é–‹ç™¼éšæ®µ
- [ ] å¯¦ç¾ Mobile First CSS
- [ ] æ¸¬è©¦æ‰€æœ‰æ–·é»éæ¸¡
- [ ] å„ªåŒ–è§¸æ§ç›®æ¨™å°ºå¯¸
- [ ] å¯¦ç¾æ‰‹å‹¢æ“ä½œ
- [ ] æ·»åŠ æ‡¶åŠ è¼‰å„ªåŒ–

### æ¸¬è©¦éšæ®µ
- [ ] çœŸæ©Ÿæ¸¬è©¦å„ç¨®å°ºå¯¸
- [ ] æ©«è±å±åˆ‡æ›æ¸¬è©¦
- [ ] è§¸æ§æ“ä½œæµæš¢åº¦æ¸¬è©¦
- [ ] æ•ˆèƒ½è¡¨ç¾æ¸¬è©¦
- [ ] ç„¡éšœç¤™åŠŸèƒ½æ¸¬è©¦

### å„ªåŒ–éšæ®µ
- [ ] åœ–ç‰‡è³‡æºå„ªåŒ–
- [ ] å­—é«”è¼‰å…¥å„ªåŒ–
- [ ] å‹•ç•«æ•ˆèƒ½èª¿æ•´
- [ ] è¨˜æ†¶é«”ä½¿ç”¨å„ªåŒ–
- [ ] é›»æ± çºŒèˆªè€ƒé‡

ğŸ‘‰ **ä¸‹ä¸€æ­¥ï¼šåƒè€ƒ [04_å°èˆªç³»çµ±è¨­è¨ˆ.md](./04_å°èˆªç³»çµ±è¨­è¨ˆ.md) äº†è§£å®Œæ•´å°èˆªå¯¦ç¾æ–¹æ¡ˆ**
