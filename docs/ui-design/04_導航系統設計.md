# BandPro å°èˆªç³»çµ±è¨­è¨ˆ

çµ±ä¸€ä¸”ç›´è¦ºçš„å°èˆªé«”é©—è¨­è¨ˆè¦ç¯„

## ğŸ§­ å°èˆªç³»çµ±æ¶æ§‹

### å°èˆªå±¤æ¬¡çµæ§‹
```mermaid
flowchart TD
    subgraph NavigationHierarchy[å°èˆªå±¤æ¬¡çµæ§‹]
        subgraph L1[ç¬¬ä¸€å±¤ï¼šå…¨åŸŸå°èˆª]
            GlobalHeader[å…¨åŸŸé é¦–<br/>å“ç‰Œ + ä¸»è¦åŠŸèƒ½]
            PrimaryNav[ä¸»è¦å°èˆª<br/>æ ¸å¿ƒåŠŸèƒ½æ¨¡çµ„]
        end
        
        subgraph L2[ç¬¬äºŒå±¤ï¼šåŠŸèƒ½å°èˆª]
            SecondaryNav[æ¬¡è¦å°èˆª<br/>åŠŸèƒ½å…§å­é …ç›®]
            Breadcrumbs[éºµåŒ…å±‘<br/>ä½ç½®æŒ‡ç¤º]
        end
        
        subgraph L3[ç¬¬ä¸‰å±¤ï¼šå…§å®¹å°èˆª]
            TabNavigation[æ¨™ç±¤å°èˆª<br/>å¹³è¡Œå…§å®¹åˆ‡æ›]
            SidebarNav[å´é‚Šå°èˆª<br/>æ·±å±¤åŠŸèƒ½]
        end
        
        subgraph L4[ç¬¬å››å±¤ï¼šæƒ…å¢ƒå°èˆª]
            ContextMenu[æƒ…å¢ƒé¸å–®<br/>å³éµæ“ä½œ]
            FloatingAction[æµ®å‹•æŒ‰éˆ•<br/>ä¸»è¦æ“ä½œ]
        end
    end
    
    GlobalHeader --> SecondaryNav
    PrimaryNav --> Breadcrumbs
    SecondaryNav --> TabNavigation
    Breadcrumbs --> SidebarNav
    TabNavigation --> ContextMenu
    SidebarNav --> FloatingAction
```

### å°èˆªæ¨¡å¼åˆ†é¡
```mermaid
mindmap
  root((å°èˆªæ¨¡å¼))
    æ¡Œé¢å°èˆª
      æ°´å¹³å°èˆªæ¬„
        ä¸»è¦åŠŸèƒ½é¸å–®
        ç”¨æˆ¶æ“ä½œå€
        æœå°‹åŠŸèƒ½
      å‚ç›´å´é‚Šæ¬„
        æª”æ¡ˆæ¨¹ç‹€çµæ§‹
        å·¥å…·é¢æ¿
        å±¬æ€§è¨­å®š
    å¹³æ¿å°èˆª
      å¯æ”¶åˆå´æ¬„
        è¦†è“‹å¼æŠ½å±œ
        æ¨æ“ å¼å±•é–‹
      é ‚éƒ¨æ¨™ç±¤
        æ°´å¹³æ»‘å‹•
        æ›´å¤šé¸é …
    æ‰‹æ©Ÿå°èˆª
      åº•éƒ¨æ¨™ç±¤
        ä¸»è¦åŠŸèƒ½
        5å€‹ä»¥å…§é …ç›®
      æ¼¢å ¡é¸å–®
        å…¨åŠŸèƒ½å­˜å–
        å±¤ç´šçµæ§‹
```

---

## ğŸ–¥ï¸ æ¡Œé¢ç‰ˆå°èˆªè¨­è¨ˆ

### å…¨åŸŸå°èˆªæ¬„
```mermaid
flowchart LR
    subgraph DesktopHeader[æ¡Œé¢ç‰ˆå°èˆªæ¬„ h-16]
        subgraph BrandArea[å“ç‰Œå€åŸŸ]
            Logo[BandPro Logo<br/>é¦–é é€£çµ]
            AppName[æ‡‰ç”¨åç¨±<br/>å¯éš±è—]
        end
        
        subgraph MainNavigation[ä¸»è¦å°èˆª]
            Home[é¦–é <br/>æª”æ¡ˆç®¡ç†]
            Editor[ç·¨è¼¯å™¨<br/>æ¨‚è­œç·¨è¼¯]
            Library[æ¨‚åº«<br/>ç¯„æœ¬ç´ æ]
            Collaboration[å”ä½œ<br/>å…±äº«å°ˆæ¡ˆ]
        end
        
        subgraph SearchArea[æœå°‹å€åŸŸ]
            GlobalSearch[å…¨åŸŸæœå°‹<br/>Cmd+K å¿«æ·éµ]
        end
        
        subgraph UserArea[ç”¨æˆ¶å€åŸŸ]
            Notifications[é€šçŸ¥ä¸­å¿ƒ<br/>å”ä½œæ›´æ–°]
            Settings[è¨­å®šé¸å–®<br/>åå¥½è¨­ç½®]
            UserMenu[ç”¨æˆ¶é¸å–®<br/>å€‹äººæª”æ¡ˆ]
            ThemeToggle[ä¸»é¡Œåˆ‡æ›<br/>æ·±æ·ºæ¨¡å¼]
        end
    end
    
    Logo --> Home
    AppName --> Editor
    Home --> Library
    Editor --> Collaboration
    Library --> GlobalSearch
    Collaboration --> Notifications
    GlobalSearch --> Settings
    Notifications --> UserMenu
    Settings --> ThemeToggle
```

#### æ¡Œé¢å°èˆªæ¨£å¼
```vue
<!-- components/navigation/DesktopHeader.vue -->
<template>
  <header class="desktop-header">
    <!-- å“ç‰Œå€åŸŸ -->
    <div class="header-brand">
      <router-link to="/" class="brand-link">
        <img src="/logo.svg" alt="BandPro" class="brand-logo" />
        <span class="brand-name">BandPro</span>
      </router-link>
    </div>
    
    <!-- ä¸»è¦å°èˆª -->
    <nav class="main-navigation">
      <ul class="nav-list">
        <li v-for="item in mainNavItems" :key="item.path" class="nav-item">
          <router-link
            :to="item.path"
            class="nav-link"
            v-slot="{ isActive, isExactActive }"
          >
            <component :is="item.icon" class="nav-icon" />
            <span class="nav-text">{{ item.label }}</span>
            <div v-if="isActive" class="nav-indicator"></div>
          </router-link>
        </li>
      </ul>
    </nav>
    
    <!-- å…¨åŸŸæœå°‹ -->
    <div class="search-area">
      <GlobalSearch />
    </div>
    
    <!-- ç”¨æˆ¶æ“ä½œå€ -->
    <div class="user-area">
      <NotificationCenter />
      <SettingsDropdown />
      <UserDropdown />
      <ThemeToggle />
    </div>
  </header>
</template>

<script setup lang="ts">
import { 
  HomeIcon, 
  PencilSquareIcon, 
  BookOpenIcon, 
  UsersIcon 
} from '@heroicons/vue/24/outline'

const mainNavItems = [
  { path: '/', icon: HomeIcon, label: 'é¦–é ' },
  { path: '/editor', icon: PencilSquareIcon, label: 'ç·¨è¼¯å™¨' },
  { path: '/library', icon: BookOpenIcon, label: 'æ¨‚åº«' },
  { path: '/collaboration', icon: UsersIcon, label: 'å”ä½œ' }
]
</script>

<style scoped>
.desktop-header {
  @apply h-16 bg-white dark:bg-gray-800;
  @apply border-b border-gray-200 dark:border-gray-700;
  @apply flex items-center justify-between;
  @apply px-6 sticky top-0 z-50;
}

.header-brand {
  @apply flex items-center flex-shrink-0;
}

.brand-link {
  @apply flex items-center space-x-3;
  @apply text-gray-900 dark:text-white;
  @apply hover:text-blue-600 dark:hover:text-blue-400;
  @apply transition-colors duration-200;
}

.brand-logo {
  @apply w-8 h-8;
}

.brand-name {
  @apply text-xl font-bold;
}

.main-navigation {
  @apply flex-1 max-w-md mx-8;
}

.nav-list {
  @apply flex space-x-1;
}

.nav-item {
  @apply flex-1;
}

.nav-link {
  @apply relative flex flex-col items-center;
  @apply px-3 py-2 rounded-lg;
  @apply text-sm font-medium;
  @apply text-gray-600 dark:text-gray-300;
  @apply hover:text-gray-900 dark:hover:text-white;
  @apply hover:bg-gray-100 dark:hover:bg-gray-700;
  @apply transition-all duration-200;
  
  &.router-link-active {
    @apply text-blue-600 dark:text-blue-400;
    @apply bg-blue-50 dark:bg-blue-900/20;
  }
}

.nav-icon {
  @apply w-5 h-5 mb-1;
}

.nav-text {
  @apply text-xs;
}

.nav-indicator {
  @apply absolute bottom-0 left-1/2 transform -translate-x-1/2;
  @apply w-1 h-1 bg-blue-500 rounded-full;
}

.search-area {
  @apply flex-shrink-0 mx-4;
}

.user-area {
  @apply flex items-center space-x-2;
  @apply flex-shrink-0;
}
</style>
```

### å´é‚Šå°èˆªç³»çµ±
```vue
<!-- components/navigation/Sidebar.vue -->
<template>
  <aside 
    class="sidebar"
    :class="{ 
      'sidebar-collapsed': collapsed,
      'sidebar-hidden': hidden 
    }"
  >
    <!-- å´é‚Šæ¬„é ­éƒ¨ -->
    <div class="sidebar-header">
      <h3 v-if="!collapsed" class="sidebar-title">{{ title }}</h3>
      <button 
        @click="$emit('toggle')"
        class="sidebar-toggle"
        :aria-label="collapsed ? 'å±•é–‹å´é‚Šæ¬„' : 'æ”¶èµ·å´é‚Šæ¬„'"
      >
        <ChevronLeftIcon 
          class="toggle-icon"
          :class="{ 'rotate-180': collapsed }"
        />
      </button>
    </div>
    
    <!-- å´é‚Šæ¬„å…§å®¹ -->
    <div class="sidebar-content">
      <slot />
    </div>
    
    <!-- å´é‚Šæ¬„åº•éƒ¨ -->
    <div v-if="$slots.footer" class="sidebar-footer">
      <slot name="footer" />
    </div>
  </aside>
</template>

<script setup lang="ts">
import { ChevronLeftIcon } from '@heroicons/vue/24/outline'

interface Props {
  title?: string
  collapsed?: boolean
  hidden?: boolean
}

defineProps<Props>()
defineEmits<{
  toggle: []
}>()
</script>

<style scoped>
.sidebar {
  @apply flex flex-col h-full;
  @apply bg-gray-50 dark:bg-gray-800;
  @apply border-r border-gray-200 dark:border-gray-700;
  @apply transition-all duration-300 ease-in-out;
  width: 256px; /* w-64 */
  
  &.sidebar-collapsed {
    width: 48px; /* w-12 */
  }
  
  &.sidebar-hidden {
    width: 0;
    @apply overflow-hidden;
  }
}

.sidebar-header {
  @apply flex items-center justify-between;
  @apply p-4 border-b border-gray-200 dark:border-gray-700;
  @apply flex-shrink-0;
}

.sidebar-title {
  @apply text-lg font-semibold;
  @apply text-gray-900 dark:text-white;
  @apply truncate;
}

.sidebar-toggle {
  @apply p-1 rounded-md;
  @apply text-gray-500 hover:text-gray-700;
  @apply dark:text-gray-400 dark:hover:text-gray-200;
  @apply hover:bg-gray-200 dark:hover:bg-gray-700;
  @apply transition-colors duration-200;
}

.toggle-icon {
  @apply w-5 h-5;
  @apply transition-transform duration-300;
}

.sidebar-content {
  @apply flex-1 overflow-y-auto;
  @apply p-2;
}

.sidebar-footer {
  @apply flex-shrink-0 p-4;
  @apply border-t border-gray-200 dark:border-gray-700;
}
</style>
```

---

## ğŸ“± å¹³æ¿ç‰ˆå°èˆªè¨­è¨ˆ

### å¯æ”¶åˆæŠ½å±œå°èˆª
```mermaid
flowchart TD
    subgraph TabletNavigation[å¹³æ¿å°èˆªç³»çµ±]
        subgraph CompactHeader[ç·Šæ¹Šé é¦– h-14]
            MenuToggle[é¸å–®åˆ‡æ›<br/>æ¼¢å ¡æŒ‰éˆ•]
            ContextTitle[æƒ…å¢ƒæ¨™é¡Œ<br/>ç•¶å‰é é¢]
            QuickActions[å¿«é€Ÿæ“ä½œ<br/>å¸¸ç”¨åŠŸèƒ½]
        end
        
        subgraph DrawerNavigation[æŠ½å±œå°èˆª]
            OverlayDrawer[è¦†è“‹å¼æŠ½å±œ<br/>å¾å·¦æ»‘å…¥]
            NavigationTabs[å°èˆªæ¨™ç±¤<br/>åˆ†é¡çµ„ç¹”]
            CollapsibleSections[å¯æ”¶åˆå€åŸŸ<br/>å±¤ç´šçµæ§‹]
        end
        
        subgraph TabNavigation[æ¨™ç±¤å°èˆª]
            HorizontalTabs[æ°´å¹³æ¨™ç±¤<br/>å¯æ»‘å‹•]
            MoreMenu[æ›´å¤šé¸å–®<br/>æº¢å‡ºé …ç›®]
        end
    end
    
    MenuToggle --> OverlayDrawer
    ContextTitle --> NavigationTabs
    QuickActions --> CollapsibleSections
    
    OverlayDrawer --> HorizontalTabs
    NavigationTabs --> MoreMenu
    CollapsibleSections --> HorizontalTabs
```

#### å¹³æ¿æŠ½å±œå°èˆªå¯¦ç¾
```vue
<!-- components/navigation/TabletDrawer.vue -->
<template>
  <div class="tablet-drawer-container">
    <!-- é®ç½©å±¤ -->
    <Transition name="overlay">
      <div 
        v-if="isOpen"
        class="drawer-overlay"
        @click="closeDrawer"
      ></div>
    </Transition>
    
    <!-- æŠ½å±œ -->
    <Transition name="drawer">
      <aside 
        v-if="isOpen"
        class="navigation-drawer"
        @click.stop
      >
        <!-- æŠ½å±œé ­éƒ¨ -->
        <div class="drawer-header">
          <div class="drawer-brand">
            <img src="/logo.svg" alt="BandPro" class="brand-logo" />
            <span class="brand-text">BandPro</span>
          </div>
          <button 
            @click="closeDrawer"
            class="close-button"
            aria-label="é—œé–‰å°èˆªé¸å–®"
          >
            <XMarkIcon class="w-6 h-6" />
          </button>
        </div>
        
        <!-- å°èˆªå…§å®¹ -->
        <nav class="drawer-navigation">
          <div 
            v-for="section in navigationSections"
            :key="section.title"
            class="nav-section"
          >
            <h4 class="nav-section-title">{{ section.title }}</h4>
            <ul class="nav-section-list">
              <li 
                v-for="item in section.items"
                :key="item.path"
                class="nav-item"
              >
                <router-link
                  :to="item.path"
                  class="nav-link"
                  @click="closeDrawer"
                  v-slot="{ isActive }"
                >
                  <component :is="item.icon" class="nav-icon" />
                  <span class="nav-text">{{ item.label }}</span>
                  <ChevronRightIcon 
                    v-if="item.hasChildren" 
                    class="nav-chevron"
                  />
                  <div 
                    v-if="isActive" 
                    class="nav-active-indicator"
                  ></div>
                </router-link>
              </li>
            </ul>
          </div>
        </nav>
        
        <!-- æŠ½å±œåº•éƒ¨ -->
        <div class="drawer-footer">
          <UserProfile :compact="true" />
          <ThemeToggle />
        </div>
      </aside>
    </Transition>
  </div>
</template>

<script setup lang="ts">
import { 
  XMarkIcon, 
  ChevronRightIcon,
  HomeIcon,
  PencilSquareIcon,
  BookOpenIcon,
  UsersIcon,
  CogIcon,
  QuestionMarkCircleIcon
} from '@heroicons/vue/24/outline'

interface Props {
  isOpen: boolean
}

defineProps<Props>()

const emit = defineEmits<{
  close: []
}>()

const closeDrawer = () => {
  emit('close')
}

const navigationSections = [
  {
    title: 'ä¸»è¦åŠŸèƒ½',
    items: [
      { path: '/', icon: HomeIcon, label: 'é¦–é ' },
      { path: '/editor', icon: PencilSquareIcon, label: 'ç·¨è¼¯å™¨' },
      { path: '/library', icon: BookOpenIcon, label: 'æ¨‚åº«' },
      { path: '/collaboration', icon: UsersIcon, label: 'å”ä½œ' }
    ]
  },
  {
    title: 'è¨­å®šèˆ‡å¹«åŠ©',
    items: [
      { path: '/settings', icon: CogIcon, label: 'è¨­å®š' },
      { path: '/help', icon: QuestionMarkCircleIcon, label: 'å¹«åŠ©' }
    ]
  }
]
</script>

<style scoped>
.tablet-drawer-container {
  @apply relative z-50;
}

.drawer-overlay {
  @apply fixed inset-0 bg-black bg-opacity-50;
  @apply md:hidden;
}

.navigation-drawer {
  @apply fixed inset-y-0 left-0 z-50;
  @apply w-80 bg-white dark:bg-gray-800;
  @apply shadow-xl;
  @apply flex flex-col;
}

.drawer-header {
  @apply flex items-center justify-between;
  @apply p-4 border-b border-gray-200 dark:border-gray-700;
}

.drawer-brand {
  @apply flex items-center space-x-3;
}

.brand-logo {
  @apply w-8 h-8;
}

.brand-text {
  @apply text-xl font-bold;
  @apply text-gray-900 dark:text-white;
}

.close-button {
  @apply p-2 rounded-md;
  @apply text-gray-500 hover:text-gray-700;
  @apply dark:text-gray-400 dark:hover:text-gray-200;
  @apply hover:bg-gray-100 dark:hover:bg-gray-700;
}

.drawer-navigation {
  @apply flex-1 overflow-y-auto py-4;
}

.nav-section {
  @apply mb-6;
}

.nav-section-title {
  @apply px-4 py-2 text-xs font-semibold;
  @apply text-gray-500 dark:text-gray-400;
  @apply uppercase tracking-wider;
}

.nav-section-list {
  @apply space-y-1 px-2;
}

.nav-item {
  @apply relative;
}

.nav-link {
  @apply flex items-center space-x-3;
  @apply px-3 py-2 rounded-lg;
  @apply text-gray-700 dark:text-gray-300;
  @apply hover:bg-gray-100 dark:hover:bg-gray-700;
  @apply hover:text-gray-900 dark:hover:text-white;
  @apply transition-all duration-200;
  
  &.router-link-active {
    @apply bg-blue-50 dark:bg-blue-900/20;
    @apply text-blue-600 dark:text-blue-400;
  }
}

.nav-icon {
  @apply w-5 h-5 flex-shrink-0;
}

.nav-text {
  @apply flex-1 font-medium;
}

.nav-chevron {
  @apply w-4 h-4 text-gray-400;
}

.nav-active-indicator {
  @apply absolute left-0 top-1/2 transform -translate-y-1/2;
  @apply w-1 h-6 bg-blue-500 rounded-r;
}

.drawer-footer {
  @apply flex items-center justify-between;
  @apply p-4 border-t border-gray-200 dark:border-gray-700;
}

/* å‹•ç•«æ•ˆæœ */
.overlay-enter-active,
.overlay-leave-active {
  @apply transition-opacity duration-300;
}

.overlay-enter-from,
.overlay-leave-to {
  @apply opacity-0;
}

.drawer-enter-active,
.drawer-leave-active {
  @apply transition-transform duration-300 ease-in-out;
}

.drawer-enter-from,
.drawer-leave-to {
  @apply transform -translate-x-full;
}
</style>
```

---

## ğŸ“± æ‰‹æ©Ÿç‰ˆå°èˆªè¨­è¨ˆ

### åº•éƒ¨æ¨™ç±¤å°èˆª
```mermaid
flowchart TD
    subgraph MobileNavigation[æ‰‹æ©Ÿå°èˆªç³»çµ±]
        subgraph MinimalHeader[æ¥µç°¡é é¦– h-12]
            BackButton[è¿”å›æŒ‰éˆ•<br/>å°èˆªæ­·å²]
            PageTitle[é é¢æ¨™é¡Œ<br/>æƒ…å¢ƒæŒ‡ç¤º]
            ActionButton[æ“ä½œæŒ‰éˆ•<br/>ä¸»è¦åŠŸèƒ½]
        end
        
        subgraph ContentArea[å…§å®¹å€åŸŸ flex-1]
            FullScreenContent[å…¨è¢å¹•å…§å®¹<br/>æœ€å¤§åŒ–ç©ºé–“]
            ScrollableArea[å¯æ»¾å‹•å€åŸŸ<br/>å‚ç›´å°èˆª]
        end
        
        subgraph BottomTabs[åº•éƒ¨æ¨™ç±¤ h-16]
            Tab1[é¦–é <br/>æª”æ¡ˆç®¡ç†]
            Tab2[ç·¨è¼¯<br/>æ¨‚è­œç·¨è¼¯]
            Tab3[æ¨‚åº«<br/>ç¯„æœ¬ç´ æ]
            Tab4[å€‹äºº<br/>ç”¨æˆ¶è¨­å®š]
            Tab5[æ›´å¤š<br/>å…¶ä»–åŠŸèƒ½]
        end
    end
    
    BackButton --> FullScreenContent
    PageTitle --> ScrollableArea
    ActionButton --> Tab1
    
    FullScreenContent --> Tab1
    ScrollableArea --> Tab2
    Tab1 --> Tab2
    Tab2 --> Tab3
    Tab3 --> Tab4
    Tab4 --> Tab5
```

#### æ‰‹æ©Ÿåº•éƒ¨å°èˆªå¯¦ç¾
```vue
<!-- components/navigation/MobileBottomTabs.vue -->
<template>
  <nav 
    class="mobile-bottom-navigation"
    role="tablist"
    aria-label="ä¸»è¦å°èˆª"
  >
    <router-link
      v-for="(tab, index) in bottomTabs"
      :key="tab.path"
      :to="tab.path"
      class="bottom-tab"
      :class="{ 'tab-active': isActiveTab(tab.path) }"
      role="tab"
      :aria-selected="isActiveTab(tab.path)"
      :aria-label="`${tab.label}é é¢`"
    >
      <!-- åœ–æ¨™ -->
      <div class="tab-icon-container">
        <component 
          :is="tab.icon" 
          class="tab-icon"
        />
        
        <!-- é€šçŸ¥å¾½ç«  -->
        <div 
          v-if="tab.badge && tab.badge > 0"
          class="tab-badge"
        >
          {{ tab.badge > 99 ? '99+' : tab.badge }}
        </div>
      </div>
      
      <!-- æ¨™ç±¤æ–‡å­— -->
      <span class="tab-label">{{ tab.label }}</span>
      
      <!-- æ´»èºæŒ‡ç¤ºå™¨ -->
      <div 
        v-if="isActiveTab(tab.path)"
        class="tab-indicator"
      ></div>
    </router-link>
  </nav>
</template>

<script setup lang="ts">
import { computed } from 'vue'
import { useRoute } from 'vue-router'
import { 
  HomeIcon, 
  PencilSquareIcon, 
  BookOpenIcon, 
  UserIcon,
  EllipsisHorizontalIcon 
} from '@heroicons/vue/24/outline'
import {
  HomeIcon as HomeIconSolid,
  PencilSquareIcon as PencilSquareIconSolid,
  BookOpenIcon as BookOpenIconSolid,
  UserIcon as UserIconSolid,
  EllipsisHorizontalIcon as EllipsisHorizontalIconSolid
} from '@heroicons/vue/24/solid'

const route = useRoute()

const bottomTabs = [
  { 
    path: '/', 
    icon: HomeIcon, 
    activeIcon: HomeIconSolid, 
    label: 'é¦–é ',
    badge: 0
  },
  { 
    path: '/editor', 
    icon: PencilSquareIcon, 
    activeIcon: PencilSquareIconSolid, 
    label: 'ç·¨è¼¯',
    badge: 0
  },
  { 
    path: '/library', 
    icon: BookOpenIcon, 
    activeIcon: BookOpenIconSolid, 
    label: 'æ¨‚åº«',
    badge: 0
  },
  { 
    path: '/profile', 
    icon: UserIcon, 
    activeIcon: UserIconSolid, 
    label: 'å€‹äºº',
    badge: 0
  },
  { 
    path: '/more', 
    icon: EllipsisHorizontalIcon, 
    activeIcon: EllipsisHorizontalIconSolid, 
    label: 'æ›´å¤š',
    badge: 0
  }
]

const isActiveTab = (path: string) => {
  return route.path === path || 
         (path !== '/' && route.path.startsWith(path))
}
</script>

<style scoped>
.mobile-bottom-navigation {
  @apply fixed bottom-0 left-0 right-0;
  @apply h-16 bg-white dark:bg-gray-800;
  @apply border-t border-gray-200 dark:border-gray-700;
  @apply flex items-center justify-around;
  @apply z-50;
  
  /* iOS å®‰å…¨å€åŸŸæ”¯æ´ */
  padding-bottom: env(safe-area-inset-bottom);
}

.bottom-tab {
  @apply relative flex flex-col items-center justify-center;
  @apply min-w-0 flex-1 py-1;
  @apply transition-all duration-200;
  @apply focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-inset;
}

.tab-icon-container {
  @apply relative mb-1;
}

.tab-icon {
  @apply w-6 h-6;
  @apply text-gray-500 dark:text-gray-400;
  @apply transition-colors duration-200;
}

.tab-active .tab-icon {
  @apply text-blue-500 dark:text-blue-400;
}

.tab-badge {
  @apply absolute -top-2 -right-2;
  @apply min-w-5 h-5 px-1;
  @apply bg-red-500 text-white;
  @apply text-xs font-bold;
  @apply rounded-full;
  @apply flex items-center justify-center;
}

.tab-label {
  @apply text-xs font-medium;
  @apply text-gray-500 dark:text-gray-400;
  @apply transition-colors duration-200;
  @apply truncate;
}

.tab-active .tab-label {
  @apply text-blue-500 dark:text-blue-400;
  @apply font-semibold;
}

.tab-indicator {
  @apply absolute top-0 left-1/2 transform -translate-x-1/2;
  @apply w-1 h-1 bg-blue-500 rounded-full;
}

/* é»æ“Šåé¥‹ */
.bottom-tab:active {
  @apply scale-95;
}

/* æ¸›å°‘å‹•ç•«åå¥½ */
@media (prefers-reduced-motion: reduce) {
  .bottom-tab,
  .tab-icon,
  .tab-label {
    @apply transition-none;
  }
}
</style>
```

---

## ğŸ” å…¨åŸŸæœå°‹ç³»çµ±

### æ™ºèƒ½æœå°‹ç•Œé¢
```vue
<!-- components/navigation/GlobalSearch.vue -->
<template>
  <div class="global-search-container">
    <!-- æœå°‹è¼¸å…¥æ¡† -->
    <div class="search-input-wrapper">
      <MagnifyingGlassIcon class="search-icon" />
      <input
        v-model="searchQuery"
        @focus="showResults = true"
        @keydown="handleKeydown"
        class="search-input"
        type="text"
        placeholder="æœå°‹æ¨‚è­œã€ç¯„æœ¬ã€ç”¨æˆ¶..."
        :aria-label="'å…¨åŸŸæœå°‹'"
        ref="searchInputRef"
      />
      
      <!-- éµç›¤å¿«æ·éµæç¤º -->
      <div class="search-shortcut">
        <kbd class="kbd">âŒ˜</kbd>
        <kbd class="kbd">K</kbd>
      </div>
    </div>
    
    <!-- æœå°‹çµæœä¸‹æ‹‰é¸å–® -->
    <Transition name="search-results">
      <div 
        v-if="showResults && (searchQuery || recentSearches.length > 0)"
        class="search-results-dropdown"
      >
        <!-- æœ€è¿‘æœå°‹ -->
        <div v-if="!searchQuery && recentSearches.length > 0" class="search-section">
          <h4 class="section-title">æœ€è¿‘æœå°‹</h4>
          <div class="recent-searches">
            <button
              v-for="recent in recentSearches"
              :key="recent"
              @click="selectSearch(recent)"
              class="recent-search-item"
            >
              <ClockIcon class="recent-icon" />
              <span>{{ recent }}</span>
            </button>
          </div>
        </div>
        
        <!-- æœå°‹å»ºè­° -->
        <div v-if="searchQuery && suggestions.length > 0" class="search-section">
          <h4 class="section-title">å»ºè­°</h4>
          <div class="search-suggestions">
            <button
              v-for="(suggestion, index) in suggestions"
              :key="suggestion.id"
              @click="selectSuggestion(suggestion)"
              class="suggestion-item"
              :class="{ 'suggestion-highlighted': index === highlightedIndex }"
            >
              <component :is="suggestion.icon" class="suggestion-icon" />
              <div class="suggestion-content">
                <div class="suggestion-title" v-html="highlightMatch(suggestion.title)"></div>
                <div class="suggestion-subtitle">{{ suggestion.subtitle }}</div>
              </div>
              <div class="suggestion-type">{{ suggestion.type }}</div>
            </button>
          </div>
        </div>
        
        <!-- ç„¡çµæœ -->
        <div v-if="searchQuery && suggestions.length === 0" class="no-results">
          <FaceSimpleIcon class="no-results-icon" />
          <p class="no-results-text">æ‰¾ä¸åˆ°ç›¸é—œçµæœ</p>
          <p class="no-results-subtitle">è©¦è©¦å…¶ä»–é—œéµå­—æˆ–å‰µå»ºæ–°çš„å…§å®¹</p>
        </div>
      </div>
    </Transition>
  </div>
</template>

<script setup lang="ts">
import { ref, computed, onMounted, onUnmounted } from 'vue'
import {
  MagnifyingGlassIcon,
  ClockIcon,
  DocumentTextIcon,
  MusicalNoteIcon,
  UserIcon
} from '@heroicons/vue/24/outline'

interface SearchSuggestion {
  id: string
  title: string
  subtitle: string
  type: string
  icon: any
  path: string
}

const searchQuery = ref('')
const showResults = ref(false)
const highlightedIndex = ref(-1)
const searchInputRef = ref<HTMLInputElement>()

// æ¨¡æ“¬æœå°‹å»ºè­°
const suggestions = computed<SearchSuggestion[]>(() => {
  if (!searchQuery.value) return []
  
  return [
    {
      id: '1',
      title: 'å¡è¾²é‹¼ç´è­œ',
      subtitle: 'å¤å…¸éŸ³æ¨‚ â€¢ ç´„ç¿°Â·å¸•èµ«è²çˆ¾',
      type: 'æ¨‚è­œ',
      icon: MusicalNoteIcon,
      path: '/scores/canon'
    },
    {
      id: '2', 
      title: 'æµè¡Œæ­Œæ›²ç¯„æœ¬',
      subtitle: 'ç¯„æœ¬åº« â€¢ C å¤§èª¿',
      type: 'ç¯„æœ¬',
      icon: DocumentTextIcon,
      path: '/templates/pop'
    },
    {
      id: '3',
      title: 'å¼µå°æ˜',
      subtitle: 'ç”¨æˆ¶ â€¢ æœ€å¾Œæ´»èºï¼š2å°æ™‚å‰',
      type: 'ç”¨æˆ¶',
      icon: UserIcon,
      path: '/users/zhangxiaoming'
    }
  ].filter(item => 
    item.title.toLowerCase().includes(searchQuery.value.toLowerCase()) ||
    item.subtitle.toLowerCase().includes(searchQuery.value.toLowerCase())
  )
})

const recentSearches = ref(['é‹¼ç´è­œ', 'æµè¡ŒéŸ³æ¨‚', 'å¤å…¸éŸ³æ¨‚'])

const highlightMatch = (text: string) => {
  if (!searchQuery.value) return text
  const regex = new RegExp(`(${searchQuery.value})`, 'gi')
  return text.replace(regex, '<mark>$1</mark>')
}

const handleKeydown = (event: KeyboardEvent) => {
  switch (event.key) {
    case 'Escape':
      showResults.value = false
      searchInputRef.value?.blur()
      break
    case 'ArrowDown':
      event.preventDefault()
      highlightedIndex.value = Math.min(
        highlightedIndex.value + 1,
        suggestions.value.length - 1
      )
      break
    case 'ArrowUp':
      event.preventDefault()
      highlightedIndex.value = Math.max(highlightedIndex.value - 1, -1)
      break
    case 'Enter':
      event.preventDefault()
      if (highlightedIndex.value >= 0) {
        selectSuggestion(suggestions.value[highlightedIndex.value])
      } else if (searchQuery.value) {
        performSearch(searchQuery.value)
      }
      break
  }
}

const selectSearch = (query: string) => {
  searchQuery.value = query
  performSearch(query)
}

const selectSuggestion = (suggestion: SearchSuggestion) => {
  // å°èˆªåˆ°å»ºè­°é …ç›®
  console.log('Navigate to:', suggestion.path)
  showResults.value = false
  
  // æ·»åŠ åˆ°æœ€è¿‘æœå°‹
  if (!recentSearches.value.includes(suggestion.title)) {
    recentSearches.value.unshift(suggestion.title)
    recentSearches.value = recentSearches.value.slice(0, 5)
  }
}

const performSearch = (query: string) => {
  console.log('Perform search:', query)
  showResults.value = false
  
  // æ·»åŠ åˆ°æœ€è¿‘æœå°‹
  if (!recentSearches.value.includes(query)) {
    recentSearches.value.unshift(query)
    recentSearches.value = recentSearches.value.slice(0, 5)
  }
}

// å…¨åŸŸéµç›¤å¿«æ·éµ
const handleGlobalKeydown = (event: KeyboardEvent) => {
  if ((event.metaKey || event.ctrlKey) && event.key === 'k') {
    event.preventDefault()
    searchInputRef.value?.focus()
    showResults.value = true
  }
}

// é»æ“Šå¤–éƒ¨é—œé–‰
const handleClickOutside = (event: Event) => {
  const target = event.target as Element
  if (!target.closest('.global-search-container')) {
    showResults.value = false
  }
}

onMounted(() => {
  document.addEventListener('keydown', handleGlobalKeydown)
  document.addEventListener('click', handleClickOutside)
})

onUnmounted(() => {
  document.removeEventListener('keydown', handleGlobalKeydown)
  document.removeEventListener('click', handleClickOutside)
})
</script>

<style scoped>
.global-search-container {
  @apply relative max-w-md w-full;
}

.search-input-wrapper {
  @apply relative flex items-center;
}

.search-icon {
  @apply absolute left-3 w-4 h-4;
  @apply text-gray-400 dark:text-gray-500;
  @apply pointer-events-none;
}

.search-input {
  @apply w-full pl-10 pr-16 py-2;
  @apply bg-gray-100 dark:bg-gray-700;
  @apply border border-transparent;
  @apply rounded-lg;
  @apply text-gray-900 dark:text-white;
  @apply placeholder-gray-500 dark:placeholder-gray-400;
  @apply focus:bg-white dark:focus:bg-gray-600;
  @apply focus:border-blue-500 dark:focus:border-blue-400;
  @apply focus:outline-none focus:ring-1 focus:ring-blue-500;
  @apply transition-all duration-200;
}

.search-shortcut {
  @apply absolute right-3 flex space-x-1;
  @apply pointer-events-none;
}

.kbd {
  @apply inline-flex items-center justify-center;
  @apply w-5 h-5 text-xs font-medium;
  @apply bg-gray-200 dark:bg-gray-600;
  @apply text-gray-700 dark:text-gray-300;
  @apply rounded border-b-2;
  @apply border-gray-300 dark:border-gray-500;
}

.search-results-dropdown {
  @apply absolute top-full left-0 right-0 mt-2;
  @apply bg-white dark:bg-gray-800;
  @apply border border-gray-200 dark:border-gray-700;
  @apply rounded-lg shadow-lg;
  @apply z-50 max-h-96 overflow-y-auto;
}

.search-section {
  @apply p-2;
  
  &:not(:last-child) {
    @apply border-b border-gray-100 dark:border-gray-700;
  }
}

.section-title {
  @apply px-2 py-1 text-xs font-semibold;
  @apply text-gray-500 dark:text-gray-400;
  @apply uppercase tracking-wider;
}

.recent-searches,
.search-suggestions {
  @apply space-y-1;
}

.recent-search-item,
.suggestion-item {
  @apply w-full flex items-center space-x-3;
  @apply px-3 py-2 rounded-md;
  @apply text-left;
  @apply text-gray-700 dark:text-gray-300;
  @apply hover:bg-gray-100 dark:hover:bg-gray-700;
  @apply transition-colors duration-200;
  
  &:focus {
    @apply outline-none bg-blue-50 dark:bg-blue-900/20;
    @apply text-blue-600 dark:text-blue-400;
  }
}

.suggestion-highlighted {
  @apply bg-blue-50 dark:bg-blue-900/20;
  @apply text-blue-600 dark:text-blue-400;
}

.recent-icon,
.suggestion-icon {
  @apply w-4 h-4 flex-shrink-0;
  @apply text-gray-400 dark:text-gray-500;
}

.suggestion-content {
  @apply flex-1 min-w-0;
}

.suggestion-title {
  @apply font-medium truncate;
  
  :deep(mark) {
    @apply bg-yellow-200 dark:bg-yellow-800/50;
    @apply text-gray-900 dark:text-white;
  }
}

.suggestion-subtitle {
  @apply text-sm text-gray-500 dark:text-gray-400;
  @apply truncate;
}

.suggestion-type {
  @apply text-xs text-gray-400 dark:text-gray-500;
  @apply bg-gray-100 dark:bg-gray-700;
  @apply px-2 py-1 rounded;
  @apply flex-shrink-0;
}

.no-results {
  @apply p-6 text-center;
}

.no-results-icon {
  @apply w-12 h-12 mx-auto mb-3;
  @apply text-gray-300 dark:text-gray-600;
}

.no-results-text {
  @apply text-gray-700 dark:text-gray-300;
  @apply font-medium mb-1;
}

.no-results-subtitle {
  @apply text-sm text-gray-500 dark:text-gray-400;
}

/* å‹•ç•«æ•ˆæœ */
.search-results-enter-active,
.search-results-leave-active {
  @apply transition-all duration-200;
}

.search-results-enter-from {
  @apply opacity-0 transform scale-95 -translate-y-2;
}

.search-results-leave-to {
  @apply opacity-0 transform scale-95 translate-y-2;
}
</style>
```

---

## ğŸ éºµåŒ…å±‘å°èˆª

### éšå±¤å¼è·¯å¾‘æŒ‡ç¤º
```vue
<!-- components/navigation/Breadcrumbs.vue -->
<template>
  <nav 
    class="breadcrumbs-nav"
    aria-label="éºµåŒ…å±‘å°èˆª"
  >
    <ol class="breadcrumbs-list">
      <li 
        v-for="(crumb, index) in breadcrumbs"
        :key="crumb.path || index"
        class="breadcrumb-item"
      >
        <!-- åˆ†éš”ç¬¦ -->
        <ChevronRightIcon 
          v-if="index > 0"
          class="breadcrumb-separator"
          aria-hidden="true"
        />
        
        <!-- å¯é»æ“Šçš„éºµåŒ…å±‘ -->
        <router-link
          v-if="crumb.path && index < breadcrumbs.length - 1"
          :to="crumb.path"
          class="breadcrumb-link"
        >
          <component 
            v-if="crumb.icon"
            :is="crumb.icon" 
            class="breadcrumb-icon"
          />
          <span>{{ crumb.label }}</span>
        </router-link>
        
        <!-- ç•¶å‰é é¢ï¼ˆä¸å¯é»æ“Šï¼‰ -->
        <span 
          v-else
          class="breadcrumb-current"
          aria-current="page"
        >
          <component 
            v-if="crumb.icon"
            :is="crumb.icon" 
            class="breadcrumb-icon"
          />
          <span>{{ crumb.label }}</span>
        </span>
      </li>
    </ol>
  </nav>
</template>

<script setup lang="ts">
import { computed } from 'vue'
import { useRoute } from 'vue-router'
import { ChevronRightIcon, HomeIcon } from '@heroicons/vue/24/outline'

interface BreadcrumbItem {
  label: string
  path?: string
  icon?: any
}

const route = useRoute()

const breadcrumbs = computed<BreadcrumbItem[]>(() => {
  const pathArray = route.path.split('/').filter(Boolean)
  const crumbs: BreadcrumbItem[] = [
    { label: 'é¦–é ', path: '/', icon: HomeIcon }
  ]
  
  let currentPath = ''
  pathArray.forEach((segment, index) => {
    currentPath += `/${segment}`
    
    // æ ¹æ“šè·¯å¾‘æ®µç”ŸæˆéºµåŒ…å±‘æ¨™ç±¤
    const label = getBreadcrumbLabel(segment, route)
    const isLast = index === pathArray.length - 1
    
    crumbs.push({
      label,
      path: isLast ? undefined : currentPath
    })
  })
  
  return crumbs
})

const getBreadcrumbLabel = (segment: string, route: any): string => {
  // æ ¹æ“šè·¯ç”±æ®µå’Œåƒæ•¸ç”Ÿæˆå‹å¥½çš„æ¨™ç±¤
  switch (segment) {
    case 'editor':
      return 'ç·¨è¼¯å™¨'
    case 'library':
      return 'æ¨‚åº«'
    case 'collaboration':
      return 'å”ä½œ'
    case 'settings':
      return 'è¨­å®š'
    default:
      // å¦‚æœæ˜¯å‹•æ…‹åƒæ•¸ï¼Œå˜—è©¦å¾ route.params ç²å–å‹å¥½åç¨±
      if (route.params[segment]) {
        return route.params[segment] as string
      }
      return segment.charAt(0).toUpperCase() + segment.slice(1)
  }
}
</script>

<style scoped>
.breadcrumbs-nav {
  @apply py-2;
}

.breadcrumbs-list {
  @apply flex items-center space-x-1;
  @apply text-sm;
}

.breadcrumb-item {
  @apply flex items-center;
}

.breadcrumb-separator {
  @apply w-4 h-4 mx-2;
  @apply text-gray-400 dark:text-gray-500;
  @apply flex-shrink-0;
}

.breadcrumb-link {
  @apply flex items-center space-x-1;
  @apply text-blue-600 dark:text-blue-400;
  @apply hover:text-blue-800 dark:hover:text-blue-300;
  @apply hover:underline;
  @apply transition-colors duration-200;
  @apply rounded px-1 py-1;
  @apply focus:outline-none focus:ring-2 focus:ring-blue-500;
}

.breadcrumb-current {
  @apply flex items-center space-x-1;
  @apply text-gray-700 dark:text-gray-300;
  @apply font-medium;
}

.breadcrumb-icon {
  @apply w-4 h-4 flex-shrink-0;
}

/* éŸ¿æ‡‰å¼éš±è—ä¸­é–“é …ç›® */
@media (max-width: 640px) {
  .breadcrumb-item:not(:first-child):not(:last-child) {
    @apply hidden;
  }
  
  .breadcrumb-item:nth-last-child(2) {
    @apply block;
  }
}
</style>
```

---

## ğŸ¯ å°èˆªæ€§èƒ½å„ªåŒ–

### é åŠ è¼‰ç­–ç•¥
```typescript
// composables/useNavigationPreload.ts
import { ref, watch } from 'vue'
import { useRoute, useRouter } from 'vue-router'

export const useNavigationPreload = () => {
  const route = useRoute()
  const router = useRouter()
  const preloadedRoutes = ref<Set<string>>(new Set())
  
  // é åŠ è¼‰è·¯ç”±çµ„ä»¶
  const preloadRoute = async (routePath: string) => {
    if (preloadedRoutes.value.has(routePath)) return
    
    try {
      const routeRecord = router.resolve(routePath)
      if (routeRecord.matched[0]?.components?.default) {
        await routeRecord.matched[0].components.default()
        preloadedRoutes.value.add(routePath)
      }
    } catch (error) {
      console.warn('Failed to preload route:', routePath, error)
    }
  }
  
  // é¼ æ¨™æ‡¸åœæ™‚é åŠ è¼‰
  const handleLinkHover = (routePath: string) => {
    preloadRoute(routePath)
  }
  
  // ç•¶å‰è·¯ç”±ç›¸é—œè·¯ç”±çš„é åŠ è¼‰
  watch(
    () => route.path,
    (currentPath) => {
      // é åŠ è¼‰ç›¸é—œè·¯ç”±
      const relatedRoutes = getRelatedRoutes(currentPath)
      relatedRoutes.forEach(routePath => {
        setTimeout(() => preloadRoute(routePath), 100)
      })
    },
    { immediate: true }
  )
  
  const getRelatedRoutes = (currentPath: string): string[] => {
    // æ ¹æ“šç•¶å‰è·¯å¾‘è¿”å›ç›¸é—œè·¯ç”±
    switch (true) {
      case currentPath === '/':
        return ['/editor', '/library']
      case currentPath.startsWith('/editor'):
        return ['/library', '/collaboration']
      case currentPath.startsWith('/library'):
        return ['/editor']
      default:
        return []
    }
  }
  
  return {
    preloadRoute,
    handleLinkHover,
    preloadedRoutes: preloadedRoutes.value
  }
}
```

---

## âœ… å°èˆªå¯¦æ–½æª¢æŸ¥æ¸…å–®

### è¨­è¨ˆéšæ®µ
- [ ] å®šç¾©å°èˆªå±¤æ¬¡çµæ§‹
- [ ] è¨­è¨ˆå„è£ç½®å°èˆªæ¨¡å¼
- [ ] è¦åŠƒå°èˆªç‹€æ…‹ç®¡ç†
- [ ] è€ƒæ…®ç„¡éšœç¤™å°èˆªéœ€æ±‚
- [ ] è¨­è¨ˆå°èˆªå‹•ç•«æ•ˆæœ

### é–‹ç™¼éšæ®µ
- [ ] å¯¦ç¾éŸ¿æ‡‰å¼å°èˆªçµ„ä»¶
- [ ] æ·»åŠ éµç›¤å°èˆªæ”¯æ´
- [ ] å¯¦ç¾æœå°‹åŠŸèƒ½
- [ ] æ·»åŠ éºµåŒ…å±‘å°èˆª
- [ ] å„ªåŒ–å°èˆªæ€§èƒ½

### æ¸¬è©¦éšæ®µ
- [ ] å°èˆªæµç¨‹æ¸¬è©¦
- [ ] éµç›¤ç„¡éšœç¤™æ¸¬è©¦
- [ ] è§¸æ§è¨­å‚™æ¸¬è©¦
- [ ] è¢å¹•é–±è®€å™¨æ¸¬è©¦
- [ ] æ€§èƒ½æŒ‡æ¨™æ¸¬è©¦

### å„ªåŒ–éšæ®µ
- [ ] å°èˆªé åŠ è¼‰å„ªåŒ–
- [ ] å‹•ç•«æµæš¢åº¦å„ªåŒ–
- [ ] è¨˜æ†¶é«”ä½¿ç”¨å„ªåŒ–
- [ ] ç”¨æˆ¶é«”é©—æ”¹é€²
- [ ] åˆ†ææ•¸æ“šè¿½è¹¤

ğŸ‘‰ **ä¸‹ä¸€æ­¥ï¼šåƒè€ƒ [05_é é¢ä½ˆå±€è¨­è¨ˆ.md](./05_é é¢ä½ˆå±€è¨­è¨ˆ.md) äº†è§£å…·é«”é é¢ä½ˆå±€å¯¦ç¾**
