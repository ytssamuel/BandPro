# BandPro è¨­è¨ˆç³»çµ±èˆ‡çµ„ä»¶åº«

åŸºæ–¼ Vue.js 3 + Tailwind CSS çš„å®Œæ•´è¨­è¨ˆç³»çµ±è¦ç¯„

## ğŸ¨ è¨­è¨ˆä»£å¹£ (Design Tokens)

### è‰²å½©ç³»çµ± (Color Palette)

#### ä¸»è¦è‰²å½©
```mermaid
flowchart LR
    subgraph Primary[ä¸»è¦è‰²å½© - éŸ³æ¨‚è—]
        P50[#EFF6FF<br/>blue-50]
        P100[#DBEAFE<br/>blue-100]
        P200[#BFDBFE<br/>blue-200]
        P300[#93C5FD<br/>blue-300]
        P400[#60A5FA<br/>blue-400]
        P500[#3B82F6<br/>blue-500<br/>ä¸»è‰²]
        P600[#2563EB<br/>blue-600]
        P700[#1D4ED8<br/>blue-700]
        P800[#1E40AF<br/>blue-800]
        P900[#1E3A8A<br/>blue-900]
        P950[#172554<br/>blue-950]
    end
```

#### æ¬¡è¦è‰²å½©
```mermaid
flowchart LR
    subgraph Secondary[æ¬¡è¦è‰²å½© - å’Œè«§ç¶ ]
        S50[#ECFDF5<br/>emerald-50]
        S100[#D1FAE5<br/>emerald-100]
        S200[#A7F3D0<br/>emerald-200]
        S300[#6EE7B7<br/>emerald-300]
        S400[#34D399<br/>emerald-400]
        S500[#10B981<br/>emerald-500<br/>æ¬¡è‰²]
        S600[#059669<br/>emerald-600]
        S700[#047857<br/>emerald-700]
        S800[#065F46<br/>emerald-800]
        S900[#064E3B<br/>emerald-900]
        S950[#022C22<br/>emerald-950]
    end
```

#### èªç¾©è‰²å½©
```css
/* æˆåŠŸè‰²å½© */
--color-success-light: #10B981; /* emerald-500 */
--color-success-dark: #34D399;  /* emerald-400 */

/* è­¦å‘Šè‰²å½© */
--color-warning-light: #F59E0B; /* amber-500 */
--color-warning-dark: #FCD34D;  /* amber-300 */

/* éŒ¯èª¤è‰²å½© */
--color-error-light: #EF4444;   /* red-500 */
--color-error-dark: #F87171;    /* red-400 */

/* è³‡è¨Šè‰²å½© */
--color-info-light: #3B82F6;    /* blue-500 */
--color-info-dark: #60A5FA;     /* blue-400 */
```

### ä¸»é¡Œè®Šæ•¸ (Theme Variables)

#### æ·ºè‰²ä¸»é¡Œ
```css
:root {
  /* èƒŒæ™¯è‰²å½© */
  --bg-primary: #FFFFFF;      /* white */
  --bg-secondary: #F8FAFC;    /* slate-50 */
  --bg-tertiary: #F1F5F9;     /* slate-100 */
  --bg-elevated: #FFFFFF;     /* white + shadow */
  
  /* è¡¨é¢è‰²å½© */
  --surface-primary: #FFFFFF;  /* white */
  --surface-secondary: #F8FAFC; /* slate-50 */
  --surface-tertiary: #E2E8F0; /* slate-200 */
  
  /* æ–‡å­—è‰²å½© */
  --text-primary: #0F172A;     /* slate-900 */
  --text-secondary: #475569;   /* slate-600 */
  --text-tertiary: #94A3B8;    /* slate-400 */
  --text-inverse: #FFFFFF;     /* white */
  
  /* é‚Šæ¡†è‰²å½© */
  --border-primary: #E2E8F0;   /* slate-200 */
  --border-secondary: #CBD5E1; /* slate-300 */
  --border-focus: #3B82F6;     /* blue-500 */
  
  /* é™°å½± */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);
  --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1);
}
```

#### æ·±è‰²ä¸»é¡Œ
```css
[data-theme="dark"] {
  /* èƒŒæ™¯è‰²å½© */
  --bg-primary: #0F172A;      /* slate-900 */
  --bg-secondary: #1E293B;    /* slate-800 */
  --bg-tertiary: #334155;     /* slate-700 */
  --bg-elevated: #1E293B;     /* slate-800 + shadow */
  
  /* è¡¨é¢è‰²å½© */
  --surface-primary: #1E293B;  /* slate-800 */
  --surface-secondary: #334155; /* slate-700 */
  --surface-tertiary: #475569; /* slate-600 */
  
  /* æ–‡å­—è‰²å½© */
  --text-primary: #F8FAFC;     /* slate-50 */
  --text-secondary: #CBD5E1;   /* slate-300 */
  --text-tertiary: #64748B;    /* slate-500 */
  --text-inverse: #0F172A;     /* slate-900 */
  
  /* é‚Šæ¡†è‰²å½© */
  --border-primary: #475569;   /* slate-600 */
  --border-secondary: #64748B; /* slate-500 */
  --border-focus: #60A5FA;     /* blue-400 */
  
  /* é™°å½± */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.3);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.4);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.4);
  --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.5);
}
```

---

## ğŸ“ å­—é«”ç³»çµ± (Typography)

### å­—é«”å †ç–Š
```css
/* ä¸»è¦å­—é«” - ç³»çµ±å­—é«” */
--font-sans: 'Inter', 'Noto Sans TC', system-ui, -apple-system, sans-serif;

/* éŸ³æ¨‚å­—é«” - æ¨‚è­œå°ˆç”¨ */
--font-music: 'Bravura', 'Academico', 'Finale Maestro', serif;

/* ç­‰å¯¬å­—é«” - ä»£ç¢¼é¡¯ç¤º */
--font-mono: 'JetBrains Mono', 'SF Mono', Monaco, 'Cascadia Code', monospace;
```

### å­—é«”å¤§å°éšå±¤
```mermaid
flowchart TD
    subgraph TextScale[æ–‡å­—å°ºå¯¸éšå±¤]
        XS[text-xs: 12px<br/>é™„è¨»æ–‡å­—]
        SM[text-sm: 14px<br/>è¼”åŠ©æ–‡å­—]
        BASE[text-base: 16px<br/>æ­£æ–‡æ–‡å­—]
        LG[text-lg: 18px<br/>é‡è¦æ–‡å­—]
        XL[text-xl: 20px<br/>å°æ¨™é¡Œ]
        XXL[text-2xl: 24px<br/>ä¸­æ¨™é¡Œ]
        XXXL[text-3xl: 30px<br/>å¤§æ¨™é¡Œ]
        XXXXL[text-4xl: 36px<br/>ä¸»æ¨™é¡Œ]
    end
    
    subgraph LineHeight[è¡Œé«˜é…å°]
        XSLine[leading-4: 16px]
        SMLine[leading-5: 20px]
        BASELine[leading-6: 24px]
        LGLine[leading-7: 28px]
        XLLine[leading-8: 32px]
        XXLLine[leading-9: 36px]
        XXXLLine[leading-10: 40px]
        XXXXLLine[leading-10: 40px]
    end
    
    XS -.-> XSLine
    SM -.-> SMLine
    BASE -.-> BASELine
    LG -.-> LGLine
    XL -.-> XLLine
    XXL -.-> XXLLine
    XXXL -.-> XXXLLine
    XXXXL -.-> XXXXLLine
```

### å­—é‡ç³»çµ±
```css
/* å­—é‡å®šç¾© */
--font-weight-light: 300;    /* font-light */
--font-weight-normal: 400;   /* font-normal */
--font-weight-medium: 500;   /* font-medium */
--font-weight-semibold: 600; /* font-semibold */
--font-weight-bold: 700;     /* font-bold */
```

---

## ğŸ“ é–“è·ç³»çµ± (Spacing)

### 8px åŸºæº–é–“è·ç³»çµ±
```mermaid
flowchart LR
    subgraph Spacing[é–“è·éšå±¤ - 8pxåŸºæº–]
        S0[0px<br/>space-0]
        S1[4px<br/>space-1]
        S2[8px<br/>space-2<br/>åŸºæº–]
        S3[12px<br/>space-3]
        S4[16px<br/>space-4]
        S5[20px<br/>space-5]
        S6[24px<br/>space-6]
        S8[32px<br/>space-8]
        S10[40px<br/>space-10]
        S12[48px<br/>space-12]
        S16[64px<br/>space-16]
        S20[80px<br/>space-20]
        S24[96px<br/>space-24]
        S32[128px<br/>space-32]
    end
```

### é–“è·ä½¿ç”¨æŒ‡å—
```css
/* çµ„ä»¶å…§éƒ¨é–“è· */
--spacing-xs: 4px;   /* ç·Šå¯†é–“è· */
--spacing-sm: 8px;   /* å°é–“è· */
--spacing-md: 16px;  /* ä¸­ç­‰é–“è· */
--spacing-lg: 24px;  /* å¤§é–“è· */
--spacing-xl: 32px;  /* ç‰¹å¤§é–“è· */

/* ä½ˆå±€é–“è· */
--layout-xs: 16px;   /* å°å‹ä½ˆå±€é–“è· */
--layout-sm: 24px;   /* ä¸­å‹ä½ˆå±€é–“è· */
--layout-md: 32px;   /* å¤§å‹ä½ˆå±€é–“è· */
--layout-lg: 48px;   /* ç‰¹å¤§ä½ˆå±€é–“è· */
--layout-xl: 64px;   /* è¶…å¤§ä½ˆå±€é–“è· */
```

---

## ğŸ­ çµ„ä»¶åº«æ¶æ§‹

### åŸºç¤çµ„ä»¶ (Atoms)

#### Button æŒ‰éˆ•çµ„ä»¶
```typescript
interface ButtonProps {
  variant: 'primary' | 'secondary' | 'tertiary' | 'ghost' | 'danger'
  size: 'sm' | 'md' | 'lg'
  disabled?: boolean
  loading?: boolean
  icon?: string
  iconPosition?: 'left' | 'right'
  fullWidth?: boolean
}
```

```mermaid
flowchart TD
    subgraph ButtonVariants[æŒ‰éˆ•è®Šé«”]
        Primary[Primary ä¸»è¦æŒ‰éˆ•<br/>èƒŒæ™¯è‰²å¡«å……]
        Secondary[Secondary æ¬¡è¦æŒ‰éˆ•<br/>é‚Šæ¡†æ¨£å¼]
        Tertiary[Tertiary ç¬¬ä¸‰æŒ‰éˆ•<br/>æ–‡å­—æ¨£å¼]
        Ghost[Ghost å¹½éˆæŒ‰éˆ•<br/>é€æ˜èƒŒæ™¯]
        Danger[Danger å±éšªæŒ‰éˆ•<br/>ç´…è‰²è­¦å‘Š]
    end
    
    subgraph ButtonSizes[æŒ‰éˆ•å°ºå¯¸]
        Small[Small: py-1.5 px-3<br/>text-sm]
        Medium[Medium: py-2 px-4<br/>text-base]
        Large[Large: py-3 px-6<br/>text-lg]
    end
    
    subgraph ButtonStates[æŒ‰éˆ•ç‹€æ…‹]
        Default[Default é è¨­]
        Hover[Hover æ‡¸åœ]
        Active[Active æŒ‰ä¸‹]
        Disabled[Disabled ç¦ç”¨]
        Loading[Loading è¼‰å…¥ä¸­]
    end
```

#### Input è¼¸å…¥çµ„ä»¶
```typescript
interface InputProps {
  type: 'text' | 'email' | 'password' | 'number' | 'search'
  size: 'sm' | 'md' | 'lg'
  variant: 'default' | 'filled' | 'bordered'
  label?: string
  placeholder?: string
  helperText?: string
  error?: string
  disabled?: boolean
  required?: boolean
  prefix?: string
  suffix?: string
}
```

#### Card å¡ç‰‡çµ„ä»¶
```typescript
interface CardProps {
  variant: 'elevated' | 'outlined' | 'filled'
  padding: 'none' | 'sm' | 'md' | 'lg'
  hoverable?: boolean
  clickable?: boolean
}
```

### éŸ³æ¨‚å°ˆç”¨çµ„ä»¶ (Music Components)

#### StaffRenderer äº”ç·šè­œæ¸²æŸ“å™¨
```typescript
interface StaffRendererProps {
  scoreData: ScoreData
  readonly?: boolean
  zoom: number
  showMeasureNumbers?: boolean
  showClefs?: boolean
  showKeySignature?: boolean
  showTimeSignature?: boolean
  onNoteClick?: (note: Note) => void
  onMeasureClick?: (measure: number) => void
}
```

```mermaid
flowchart TD
    subgraph StaffComponents[äº”ç·šè­œçµ„ä»¶çµæ§‹]
        StaffLines[äº”ç·šè­œç·š<br/>SVGç¹ªè£½]
        Clef[è­œè™Ÿ<br/>é«˜éŸ³/ä½éŸ³è­œè™Ÿ]
        KeySignature[èª¿è™Ÿ<br/>å‡é™è¨˜è™Ÿ]
        TimeSignature[æ‹è™Ÿ<br/>4/4, 3/4ç­‰]
        Measures[å°ç¯€<br/>åˆ†éš”ç·š]
        Notes[éŸ³ç¬¦<br/>å„ç¨®æ™‚å€¼]
        Rests[ä¼‘æ­¢ç¬¦<br/>å°æ‡‰æ™‚å€¼]
        Accidentals[è‡¨æ™‚è¨˜è™Ÿ<br/>å‡é™é‚„åŸ]
        Dynamics[åŠ›åº¦è¨˜è™Ÿ<br/>pp, p, mf, f, ff]
        Lyrics[æ­Œè©<br/>å¤šè¡Œæ”¯æ´]
    end
    
    StaffLines --> Clef
    Clef --> KeySignature
    KeySignature --> TimeSignature
    TimeSignature --> Measures
    Measures --> Notes
    Notes --> Rests
    Rests --> Accidentals
    Accidentals --> Dynamics
    Dynamics --> Lyrics
```

#### NoteToolbar éŸ³ç¬¦å·¥å…·æ¬„
```typescript
interface NoteToolbarProps {
  selectedTool: NoteTool
  onToolChange: (tool: NoteTool) => void
  availableNoteValues: NoteValue[]
  selectedNoteValue: NoteValue
  onNoteValueChange: (value: NoteValue) => void
  showAccidentals?: boolean
  showArticulations?: boolean
}
```

### ä½ˆå±€çµ„ä»¶ (Layout Components)

#### AppHeader æ‡‰ç”¨æ¨™é¡Œ
```typescript
interface AppHeaderProps {
  title: string
  showLogo?: boolean
  showNavigation?: boolean
  showUserMenu?: boolean
  showThemeToggle?: boolean
  currentTheme: 'light' | 'dark'
  onThemeChange: (theme: 'light' | 'dark') => void
}
```

#### ResponsiveSidebar éŸ¿æ‡‰å¼å´é‚Šæ¬„
```typescript
interface ResponsiveSidebarProps {
  isOpen: boolean
  onToggle: () => void
  position: 'left' | 'right'
  width: string
  collapsible?: boolean
  overlay?: boolean
  persistent?: boolean
}
```

---

## ğŸ¨ çµ„ä»¶æ¨£å¼è¦ç¯„

### CSS è‡ªè¨‚å±¬æ€§ä½¿ç”¨
```css
/* çµ„ä»¶åŸºç¤æ¨£å¼ */
.btn {
  @apply inline-flex items-center justify-center;
  @apply font-medium rounded-md transition-colors;
  @apply focus:outline-none focus:ring-2 focus:ring-offset-2;
  
  /* ä½¿ç”¨è¨­è¨ˆä»£å¹£ */
  padding: var(--spacing-sm) var(--spacing-md);
  font-size: var(--text-base);
  line-height: var(--leading-6);
}

/* ä¸»è¦æŒ‰éˆ•è®Šé«” */
.btn-primary {
  @apply bg-blue-500 text-white;
  @apply hover:bg-blue-600 active:bg-blue-700;
  @apply focus:ring-blue-500;
  @apply disabled:bg-gray-300 disabled:text-gray-500;
}

/* æ·±è‰²æ¨¡å¼é©é… */
@media (prefers-color-scheme: dark) {
  .btn-primary {
    @apply bg-blue-600 hover:bg-blue-700 active:bg-blue-800;
  }
}
```

### å‹•ç•«èˆ‡éæ¸¡
```css
/* æ¨™æº–éæ¸¡æ™‚é–“ */
--transition-fast: 150ms;
--transition-base: 200ms;
--transition-slow: 300ms;

/* ç·©å‹•å‡½æ•¸ */
--ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
--ease-out: cubic-bezier(0, 0, 0.2, 1);
--ease-in: cubic-bezier(0.4, 0, 1, 1);

/* çµ„ä»¶å‹•ç•« */
.fade-enter-active,
.fade-leave-active {
  transition: opacity var(--transition-base) var(--ease-in-out);
}

.slide-enter-active,
.slide-leave-active {
  transition: transform var(--transition-base) var(--ease-in-out);
}
```

---

## ğŸ“± éŸ¿æ‡‰å¼çµ„ä»¶è¡Œç‚º

### æ–·é»ç³»çµ±æ•´åˆ
```typescript
// éŸ¿æ‡‰å¼Hook
export const useBreakpoint = () => {
  const breakpoint = ref('mobile')
  
  const updateBreakpoint = () => {
    const width = window.innerWidth
    if (width < 768) breakpoint.value = 'mobile'
    else if (width < 1024) breakpoint.value = 'tablet'
    else breakpoint.value = 'desktop'
  }
  
  return { breakpoint }
}

// çµ„ä»¶ä¸­ä½¿ç”¨
const Component = defineComponent({
  setup() {
    const { breakpoint } = useBreakpoint()
    
    const isMobile = computed(() => breakpoint.value === 'mobile')
    const showSidebar = computed(() => !isMobile.value)
    
    return { isMobile, showSidebar }
  }
})
```

### è§¸æ§å„ªåŒ–
```css
/* è§¸æ§ç›®æ¨™æœ€å°å°ºå¯¸ */
.touch-target {
  min-height: 44px;
  min-width: 44px;
}

/* è§¸æ§åé¥‹ */
.touchable {
  @apply active:scale-95 transition-transform;
  -webkit-tap-highlight-color: transparent;
}

/* æ»¾å‹•å„ªåŒ– */
.scroll-area {
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scrollbar-color: var(--border-secondary) transparent;
}
```

---

## ğŸ§ª çµ„ä»¶æ¸¬è©¦ç­–ç•¥

### è¦–è¦ºå›æ­¸æ¸¬è©¦
```typescript
// Storybook æ•…äº‹å®šç¾©
export default {
  title: 'Components/Button',
  component: Button,
  parameters: {
    docs: {
      description: {
        component: 'Basic button component with multiple variants'
      }
    }
  }
}

export const Default = () => ({
  template: '<Button>Default Button</Button>'
})

export const AllVariants = () => ({
  template: `
    <div class="space-y-4">
      <Button variant="primary">Primary</Button>
      <Button variant="secondary">Secondary</Button>
      <Button variant="tertiary">Tertiary</Button>
      <Button variant="ghost">Ghost</Button>
      <Button variant="danger">Danger</Button>
    </div>
  `
})
```

### ç„¡éšœç¤™æ¸¬è©¦
```typescript
// Jest + Testing Library
import { render, screen } from '@testing-library/vue'
import Button from './Button.vue'

describe('Button Component', () => {
  test('should be keyboard accessible', async () => {
    render(Button, { props: { children: 'Test Button' } })
    
    const button = screen.getByRole('button')
    expect(button).toBeInTheDocument()
    expect(button).not.toHaveAttribute('tabindex', '-1')
  })
  
  test('should have proper ARIA attributes', () => {
    render(Button, { 
      props: { 
        children: 'Test Button',
        disabled: true
      } 
    })
    
    const button = screen.getByRole('button')
    expect(button).toHaveAttribute('aria-disabled', 'true')
  })
})
```

---

## ğŸ“š é–‹ç™¼å·¥å…·èˆ‡å·¥ä½œæµç¨‹

### Tailwind CSS é…ç½®
```javascript
// tailwind.config.js
module.exports = {
  content: [
    './src/**/*.{vue,js,ts,jsx,tsx}',
    './docs/**/*.md'
  ],
  darkMode: 'class',
  theme: {
    extend: {
      colors: {
        primary: {
          50: '#eff6ff',
          500: '#3b82f6',
          900: '#1e3a8a',
        },
        secondary: {
          50: '#ecfdf5',
          500: '#10b981',
          900: '#064e3b',
        }
      },
      fontFamily: {
        sans: ['Inter', 'Noto Sans TC', 'sans-serif'],
        music: ['Bravura', 'serif']
      },
      spacing: {
        '18': '4.5rem',
        '88': '22rem',
      }
    }
  },
  plugins: [
    require('@tailwindcss/forms'),
    require('@tailwindcss/typography'),
    require('@headlessui/tailwindcss')
  ]
}
```

### çµ„ä»¶è‡ªå‹•å°å…¥
```typescript
// vite.config.ts
import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'
import Components from 'unplugin-vue-components/vite'
import { HeadlessUiResolver } from 'unplugin-vue-components/resolvers'

export default defineConfig({
  plugins: [
    vue(),
    Components({
      resolvers: [HeadlessUiResolver()],
      dts: true
    })
  ]
})
```

---

## ğŸ¯ å¯¦æ–½è·¯ç·šåœ–

### ç¬¬ä¸€éšæ®µï¼šåŸºç¤çµ„ä»¶ (ç¬¬1é€±)
- [ ] è¨­è¨ˆä»£å¹£è¨­ç½®
- [ ] åŸºç¤çµ„ä»¶é–‹ç™¼ (Button, Input, Card)
- [ ] ä¸»é¡Œåˆ‡æ›ç³»çµ±
- [ ] Storybook è¨­ç½®

### ç¬¬äºŒéšæ®µï¼šéŸ³æ¨‚çµ„ä»¶ (ç¬¬2é€±)
- [ ] äº”ç·šè­œæ¸²æŸ“å™¨
- [ ] éŸ³ç¬¦å·¥å…·æ¬„
- [ ] æ¨‚å™¨é¸æ“‡å™¨
- [ ] æ’­æ”¾æ§åˆ¶

### ç¬¬ä¸‰éšæ®µï¼šä½ˆå±€çµ„ä»¶ (ç¬¬3é€±)
- [ ] éŸ¿æ‡‰å¼å°èˆª
- [ ] å´é‚Šæ¬„ç³»çµ±
- [ ] æ¨¡æ…‹æ¡†çµ„ä»¶
- [ ] é€šçŸ¥ç³»çµ±

### ç¬¬å››éšæ®µï¼šå„ªåŒ–æ¸¬è©¦ (ç¬¬4é€±)
- [ ] æ€§èƒ½å„ªåŒ–
- [ ] ç„¡éšœç¤™æ¸¬è©¦
- [ ] è·¨ç€è¦½å™¨æ¸¬è©¦
- [ ] ç”¨æˆ¶é«”é©—å„ªåŒ–

ğŸ‘‰ **ä¸‹ä¸€æ­¥ï¼šåƒè€ƒ [02_ä¸»é¡Œç³»çµ±èˆ‡è‰²å½©è¦ç¯„.md](./02_ä¸»é¡Œç³»çµ±èˆ‡è‰²å½©è¦ç¯„.md) è©³ç´°äº†è§£ä¸»é¡Œå¯¦ç¾**
